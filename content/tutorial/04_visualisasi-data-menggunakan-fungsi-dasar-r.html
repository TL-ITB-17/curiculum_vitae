---
title: "3. Visualisasi Data Menggunakan Fungsi Dasar R"
draft: false
date: '2019-03-09T00:00:00+07:00'
output: pdf_document
menu:
  tutorial:
    parent: Visualisasi Data
    weight: 3
linktitle: Visualisasi Data Menggunakan Fungsi Dasar R
type: docs
---



<blockquote>
<p><strong>Note: </strong></p>
<ul>
<li><a href="#4-1-visualisasi-data-menggunakan-fungsi-plot()">Visualisasi Data Menggunakan Fungsi plot</a></li>
<li><a href="#4-2-matriks-scatterplot">Matriks Scatterplot</a></li>
</ul>
</blockquote>
<div id="visualisasi-data-menggunakan-fungsi-plot" class="section level2">
<h2>4.1 Visualisasi Data Menggunakan Fungsi plot()</h2>
<p>Fungsi <code>plot()</code> merupakan fungsi umum yang digunakan untuk membuat plot pada <code>R</code>. Format dasarnya adalah sebagai berikut:</p>
<pre class="r"><code>plot(x, y, type=&quot;p&quot;)</code></pre>
<blockquote>
<p><strong>Note: </strong></p>
<ul>
<li><strong>x dan y</strong>: titik koordinat plot Berupa variabel dengan panjang atau jumlah observasi yang sama.</li>
<li><strong>type</strong>: jenis grafik yang hendak dibuat. Nilai yang dapat dimasukkan antara lain:</li>
<li>type=“p” : membuat plot titik atau scatterplot. Nilai ini merupakan default pada fungsi <code>plot()</code>.</li>
<li>type=“l” : membuat plot garis.</li>
<li>type=“b” : membuat plot titik yang terhubung dengan garis.</li>
<li>type=“o” : membuat plot titik yang ditimpa oleh garis.</li>
<li>type=“h” : membuat plot garis vertikal dari titik ke garis y=0.</li>
<li>type=“s” : membuat fungsi tangga.</li>
<li>type=“n” : tidak membuat grafik plot sama sekali, kecuali plot dari axis. Dapat digunakan untuk mengatur tampilan suatu plot utama yang diikuti oleh sekelompok plot tambahan.</li>
</ul>
</blockquote>
<p>Untuk lebih memahaminya berikut penulis akan sajikan contoh untuk masing-masing grafik tersebut. Berikut adalah contoh sintaks dan hasil plot yang disajikan pada Figure <a href="#fig:plot">1</a>:</p>
<pre class="r"><code># membuat vektor data 
x &lt;- c(1:10); y &lt;- x^2</code></pre>
<pre class="r"><code># membagi jendela grafik menajdi 4 baris dan 2 kolom
par(mfrow=c(3,3))

# plot
plot(x, y, type=&quot;p&quot;, main=&quot;p&quot;)
plot(x, y, type=&quot;l&quot;, main=&quot;l&quot;)
plot(x, y, type=&quot;b&quot;, main=&quot;b&quot;)
plot(x, y, type=&quot;o&quot;, main=&quot;o&quot;)
plot(x, y, type=&quot;h&quot;, main=&quot;h&quot;)
plot(x, y, type=&quot;s&quot;, main=&quot;s&quot;)
plot(x, y, type=&quot;n&quot;, main=&quot;n&quot;)</code></pre>
<div class="figure" style="text-align: center"><span id="fig:plot"></span>
<img src="/tutorial/04_visualisasi-data-menggunakan-fungsi-dasar-r_files/figure-html/plot-1.png" alt="Plot berbagai jenis setting type" width="672" />
<p class="caption">
Figure 1: Plot berbagai jenis setting type
</p>
</div>
<p>Pada contoh selanjutnya akan dilakukan plot terhadap dataset <code>trees</code>. Untuk memuatnya jalankan sintaks berikut:</p>
<pre class="r"><code>library(tibble)</code></pre>
<pre class="r"><code># memuat dataset
trees &lt;- as_tibble(trees)

# print 
trees</code></pre>
<pre><code>## # A tibble: 31 x 3
##    Girth Height Volume
##    &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
##  1   8.3     70   10.3
##  2   8.6     65   10.3
##  3   8.8     63   10.2
##  4  10.5     72   16.4
##  5  10.7     81   18.8
##  6  10.8     83   19.7
##  7  11       66   15.6
##  8  11       75   18.2
##  9  11.1     80   22.6
## 10  11.2     75   19.9
## # ... with 21 more rows</code></pre>
<p>Pada dataset tersebut kita ingin membuat scatterplot untuk melihat korelasi antara variabel <code>Height</code> dan <code>Volume</code>. Untuk melakukannya jalankan sintaks berikut:</p>
<pre class="r"><code>plot(trees$Height, trees$Volume)</code></pre>
<pre class="r"><code># atau 
with(trees, plot(Height, Volume))</code></pre>
<div class="figure" style="text-align: center"><span id="fig:scatter"></span>
<img src="/tutorial/04_visualisasi-data-menggunakan-fungsi-dasar-r_files/figure-html/scatter-1.png" alt="Scatterplot Height vs Volume" width="672" />
<p class="caption">
Figure 2: Scatterplot Height vs Volume
</p>
</div>
<p>Kita juga dapat menggunakan formula untuk membuat scatterplot pada Figure <a href="#fig:scatter">2</a>. Berikut adalah contoh sintaks yang digunakan:</p>
<pre class="r"><code>x &lt;- trees$Height
y &lt;- trees$Volume

plot(y~x)</code></pre>
<p>Fungsi <code>plot()</code> juga dapat digunakan untuk membentuk matriks scatterplot. Untuk membuatnya kita hanya perlu memasukkan seluruh dataset kedalam fungsi <code>plot()</code>. Berikut adalah sintaks dan output yang dihasilkan berupa Figure <a href="#fig:scatter2">3</a>:</p>
<pre class="r"><code>plot(trees)</code></pre>
<div class="figure" style="text-align: center"><span id="fig:scatter2"></span>
<img src="/tutorial/04_visualisasi-data-menggunakan-fungsi-dasar-r_files/figure-html/scatter2-1.png" alt="Matriks scatterplot dataset trees" width="672" />
<p class="caption">
Figure 3: Matriks scatterplot dataset trees
</p>
</div>
<p>Selain itu jika kita memasukkan objek <code>lm()</code> yang merupakan fungsi untuk melakukan operasi regresi linier pada fungsi <code>plot()</code>, output yang dihasilkan berupa plot diagnostik yang berguna untuk menguji asumsi model regresi linier. Berikut adalah contoh sintaks dan output yang dihasilkan pada Figure <a href="#fig:diag">4</a>:</p>
<pre class="r"><code># membagi jendela grafik menjadi 2 baris dan 2 kolom
par(mfrow=c(2,2))

# plot
plot(lm(Volume~Height, data=trees))</code></pre>
<div class="figure" style="text-align: center"><span id="fig:diag"></span>
<img src="/tutorial/04_visualisasi-data-menggunakan-fungsi-dasar-r_files/figure-html/diag-1.png" alt="Plot diagnostik regresi linier" width="672" />
<p class="caption">
Figure 4: Plot diagnostik regresi linier
</p>
</div>
<p>Selain objek-objek tersebut, fungsi <code>plot()</code> akan banyak digunakan dalam analisis statistika kita pada chapter lainnya.</p>
</div>
<div id="matriks-scatterplot" class="section level2">
<h2>4.2 Matriks Scatterplot</h2>
<p>Pada bagian sebelumnya kita telah belajar bagaimana membuat matriks scatterplot mengggunakan fungsi <code>plot()</code>. Pada bagian ini kita akan belajar cara membuat matriks scatterplot menggunakan fungsi <code>pairs()</code>. Secara umum format fungsi dituliskan sebagai berikut:</p>
<pre class="r"><code>pairs(data, lower.panel=NULL)</code></pre>
<blockquote>
<p><strong>Note: </strong></p>
<ul>
<li><strong>data</strong>: data frame</li>
<li><strong>lower.panel</strong>: menampilkan atau tidak menampilkan panel bawah</li>
</ul>
</blockquote>
<p>Untuk lebih memahami penggunaan fungsi tersebut, berikut akan disajikan contoh penggunaannya pada dataset <code>iris</code>. Sebelum melakukannya jalankan sintaks berikut untuk memuat dataset:</p>
<pre class="r"><code># memuat dataset irir
iris &lt;- as_tibble(iris)

# print
iris</code></pre>
<pre><code>## # A tibble: 150 x 5
##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species
##           &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;  
##  1          5.1         3.5          1.4         0.2 setosa 
##  2          4.9         3            1.4         0.2 setosa 
##  3          4.7         3.2          1.3         0.2 setosa 
##  4          4.6         3.1          1.5         0.2 setosa 
##  5          5           3.6          1.4         0.2 setosa 
##  6          5.4         3.9          1.7         0.4 setosa 
##  7          4.6         3.4          1.4         0.3 setosa 
##  8          5           3.4          1.5         0.2 setosa 
##  9          4.4         2.9          1.4         0.2 setosa 
## 10          4.9         3.1          1.5         0.1 setosa 
## # ... with 140 more rows</code></pre>
<p>Untuk membuat matriks scatterplot kita hanya perlu memasukkan objek <code>iris</code> kedalam fungsi <code>pairs()</code>. Berikut adalah sintaks yang digunakan dan output yang dihasilkan pada Figure <a href="#fig:matscat">5</a>:</p>
<pre class="r"><code>pairs(iris)</code></pre>
<div class="figure" style="text-align: center"><span id="fig:matscat"></span>
<img src="/tutorial/04_visualisasi-data-menggunakan-fungsi-dasar-r_files/figure-html/matscat-1.png" alt="Matriks scatterplot iris" width="672" />
<p class="caption">
Figure 5: Matriks scatterplot iris
</p>
</div>
<p>Kita dapat melakukan drop terhadap panel bawah grafik tersebut. Untuk melakukannya kita perlu memasukkan parameter <code>lower.panel=NULL</code>. Output yang dihasilkan akan tampak seperti pada Figure <a href="#fig:matscat2">6</a>.</p>
<pre class="r"><code>pairs(iris, lower.panel=NULL)</code></pre>
<div class="figure" style="text-align: center"><span id="fig:matscat2"></span>
<img src="/tutorial/04_visualisasi-data-menggunakan-fungsi-dasar-r_files/figure-html/matscat2-1.png" alt="Matriks scatterplot iris tanpa panel bawah" width="672" />
<p class="caption">
Figure 6: Matriks scatterplot iris tanpa panel bawah
</p>
</div>
<p>Kita dapat merubah warna titik berdasarkan factor <code>Species</code>. Langkah pertama yang perlu dilakukan adalah melakukan drop variabel <code>Species</code> pada dataset dan memasukkan objek baru tanpa variabel tersebut kedalam fungsi <code>pairs()</code>. Warna berdasarkan grup diberikan dengan menambahkan parameter <code>col=</code> pada fungsi <code>pairs()</code>. Berikut adalah contoh penerapannya dan output yang dihasilkan pada Figure <a href="#fig:matscat3">7</a>:</p>
<pre class="r"><code># drop variabel Species
# simpan dataset baru pada objek iris2
iris2 &lt;- iris[ ,1:4]

# print
iris2</code></pre>
<pre><code>## # A tibble: 150 x 4
##    Sepal.Length Sepal.Width Petal.Length Petal.Width
##           &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;
##  1          5.1         3.5          1.4         0.2
##  2          4.9         3            1.4         0.2
##  3          4.7         3.2          1.3         0.2
##  4          4.6         3.1          1.5         0.2
##  5          5           3.6          1.4         0.2
##  6          5.4         3.9          1.7         0.4
##  7          4.6         3.4          1.4         0.3
##  8          5           3.4          1.5         0.2
##  9          4.4         2.9          1.4         0.2
## 10          4.9         3.1          1.5         0.1
## # ... with 140 more rows</code></pre>
<pre class="r"><code># spesifikasi vaktor warna titik berdasarkan spesies
my_col &lt;- c(&quot;#00AFBB&quot;, &quot;#E7B800&quot;, &quot;#FC4E07&quot;)

# plot
pairs(iris2, lower.panel=NULL,
      # spesifikasi warna
      col= my_col[iris$Species])</code></pre>
<div class="figure" style="text-align: center"><span id="fig:matscat3"></span>
<img src="/tutorial/04_visualisasi-data-menggunakan-fungsi-dasar-r_files/figure-html/matscat3-1.png" alt="Matriks scatterplot iris tanpa panel bawah" width="672" />
<p class="caption">
Figure 7: Matriks scatterplot iris tanpa panel bawah
</p>
</div>
<p>Kita juga dapat mengganti panel bawah menjadi nilai korelasi antar variabel. Untuk melakukannya kita perlu mendefinisikan sebuah fungsi untuk panel bawah dan panel atas (jika ingin warna titik berdasarkan factor). Setelah fungsi panel bawah dan atas didefinisikan, langkah selanjutnya adalah melakukan memasukkan nilainya kedalam fungsi <code>pairs()</code>. Berikut adalah sintaks yang digunakan serta output yang dihasilkan pada Figure <a href="#fig:matscat4">8</a>:</p>
<pre class="r"><code># membuat fungsi untuk menghitung
# nilai korelasi yang ditempatkan pada panel bawah
panel.cor &lt;- function(x, y){
    # definisi parameter grafik 
    usr &lt;- par(&quot;usr&quot;); on.exit(par(usr))
    par(usr = c(0, 1, 0, 1))
    # menghitung koefisien korelas
    r &lt;- round(cor(x, y), digits=2)
    # menambahkan text berdasarkan koefisien korelasi
    txt &lt;- paste0(&quot;R = &quot;, r)
    # mengatur besar text sesuai besarnya nilai korelasi
    cex.cor &lt;- 0.8/strwidth(txt)
    text(0.5, 0.5, txt, cex = cex.cor * abs(r))
}

# kustomisasi panel atas agar
# warna titik berdasarkan factor
my_col &lt;- c(&quot;#00AFBB&quot;, &quot;#E7B800&quot;, &quot;#FC4E07&quot;)
upper.panel&lt;-function(x, y){
  points(x,y, pch = 19, col = my_col[iris$Species])
}

pairs(iris2,
      lower.panel= panel.cor,
      upper.panel= upper.panel)</code></pre>
<div class="figure" style="text-align: center"><span id="fig:matscat4"></span>
<img src="/tutorial/04_visualisasi-data-menggunakan-fungsi-dasar-r_files/figure-html/matscat4-1.png" alt="Matriks scatterplot iris dengan koefisien korelasi" width="672" />
<p class="caption">
Figure 8: Matriks scatterplot iris dengan koefisien korelasi
</p>
</div>
<p>Jika kita tidak ingin nilai korelasi ditampilkan di panel bawah, kita dapat merubahnya sehingga dapat tampil pada panel atas bersamaan dengan scatterplot. Untuk melakukannya kita perlu mendefinisikan fungsi pada panel atas dan memasukkannya pada parameter <code>upper.panel=</code>. Berikut adalah sintaks yang digunakan beserta output yang dihasilkan pada Figure <a href="#fig:matscat5">9</a>:</p>
<pre class="r"><code># kustomisasi panel atas
upper.panel&lt;-function(x, y){
  points(x,y, pch=19, col=c(&quot;#00AFBB&quot;, &quot;#E7B800&quot;, &quot;#FC4E07&quot;)[iris$Species])
  r &lt;- round(cor(x, y), digits=2)
  txt &lt;- paste0(&quot;R = &quot;, r)
  usr &lt;- par(&quot;usr&quot;); on.exit(par(usr))
  par(usr = c(0, 1, 0, 1))
  text(0.5, 0.9, txt)
}

# plot
pairs(iris2, lower.panel = NULL, 
      upper.panel = upper.panel)</code></pre>
<div class="figure" style="text-align: center"><span id="fig:matscat5"></span>
<img src="/tutorial/04_visualisasi-data-menggunakan-fungsi-dasar-r_files/figure-html/matscat5-1.png" alt="Matriks scatterplot iris dengan koefisien korelasi di panel atas" width="672" />
<p class="caption">
Figure 9: Matriks scatterplot iris dengan koefisien korelasi di panel atas
</p>
</div>
</div>
