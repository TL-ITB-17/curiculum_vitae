<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.0.0">
  <meta name="generator" content="Hugo 0.54.0" />

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Mohammad Rosidi, S.T.">

  
  
  
    
  
  <meta name="description" content="Daftar Isi:Import FileEksport FileTibble Data FormatMerapikan DataTransformasi Data3.1 Import FilePada sesi bagian ini penulis akan menjelaskan cara mengimport file pada R. File yang diimport ke dalam R terdiri atas file yang sering digunakan pada saat akan melakukan analisis data, antara lain: TXT, CSv, Excel, SPSS, SAS, dan STATA.
Pada bagian ini akan dijelaskan pula bagaimana melakukan import data menggunakan library readr serta kelebihan dari metode import data yang digunakan.">

  
  <link rel="alternate" hreflang="en-us" href="/tutorial/03_manajemen-data-r/">

  


  

  

  

  

  

  

  
  
  
  <meta name="theme-color" content="#328cc1">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    

    

  

  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700|Roboto:400,400italic,700|Roboto+Mono">
  

  <link rel="stylesheet" href="/styles.css">
  

  
  
  

  
  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="Environmental Data Modeling">
  <link rel="feed" href="/index.xml" type="application/rss+xml" title="Environmental Data Modeling">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="/tutorial/03_manajemen-data-r/">

  
  
  
  
    
    
  
  <meta property="twitter:card" content="summary">
  
  <meta property="og:site_name" content="Environmental Data Modeling">
  <meta property="og:url" content="/tutorial/03_manajemen-data-r/">
  <meta property="og:title" content="3. Manajemen Data R | Environmental Data Modeling">
  <meta property="og:description" content="Daftar Isi:Import FileEksport FileTibble Data FormatMerapikan DataTransformasi Data3.1 Import FilePada sesi bagian ini penulis akan menjelaskan cara mengimport file pada R. File yang diimport ke dalam R terdiri atas file yang sering digunakan pada saat akan melakukan analisis data, antara lain: TXT, CSv, Excel, SPSS, SAS, dan STATA.
Pada bagian ini akan dijelaskan pula bagaimana melakukan import data menggunakan library readr serta kelebihan dari metode import data yang digunakan."><meta property="og:image" content="/img/icon-192.png">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2019-03-09T00:00:00&#43;07:00">
  
  <meta property="article:modified_time" content="2019-03-09T00:00:00&#43;07:00">
  

  

  

  <title>3. Manajemen Data R | Environmental Data Modeling</title>

</head>
<body id="top" data-spy="scroll" data-target="#TableOfContents" data-offset="71" >
  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" role="textbox" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">Environmental Data Modeling</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav mr-auto">
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#publications_featured">
            
            <span>Publications</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#posts">
            
            <span>Posts</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/tutorial/">
            
            <span>Tutorials</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        

        

        
        
        

        <li class="nav-item">
          <a class="nav-link" href="/cv/">
            
            <span>CV</span>
            
          </a>
        </li>

        
        

      
      </ul>
      <ul class="navbar-nav ml-auto">
      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>



<div class="container-fluid docs">
  <div class="row flex-xl-nowrap">
    <div class="col-12 col-md-3 col-xl-2 docs-sidebar">
      




<form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-3" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <span><i class="fas fa-bars"></i></span>
  </button>

  
  <input name="q" type="search" class="form-control" id="search-query" placeholder="Search..." autocomplete="off">
  
</form>

<nav class="collapse docs-links" id="docs-nav">
  
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/tutorial/">Overview</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/tutorial/01_mengenal-bahasa-r/">Bahasa Pemrograman R</a>
    <ul class="nav docs-sidenav">
      
      <li >
        <a href="/tutorial/01_mengenal-bahasa-r/">Mengenal Bahasa R</a>
      </li>
      
      <li >
        <a href="/tutorial/02_sintaks-bahasa-r/">Sintaks Bahasa R</a>
      </li>
      
      <li class="active">
        <a href="/tutorial/03_manajemen-data-r/">Manajemen Data R</a>
      </li>
      
    </ul>
    

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/tutorial/04_visualisasi-data-menggunakan-fungsi-dasar-r/">Visualisasi Data</a>
    <ul class="nav docs-sidenav">
      
      <li >
        <a href="/tutorial/04_visualisasi-data-menggunakan-fungsi-dasar-r/">Visualisasi Data Menggunakan Fungsi Dasar R</a>
      </li>
      
    </ul>
    

  </div>
  
  
</nav>

    </div>

    

    <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role="main">

      <article class="article" itemscope itemtype="http://schema.org/Article">

        <div class="docs-article-container">
          <h1 itemprop="name">3. Manajemen Data R</h1>

          <div class="article-style" itemprop="articleBody">
            


<blockquote>
<h2 id="daftar-isi">Daftar Isi:</h2>
<ul>
<li><a href="#3-1-import-file">Import File</a></li>
<li><a href="#3-2-eksport-file">Eksport File</a></li>
<li><a href="#3-3-tibble-data-format">Tibble Data Format</a></li>
<li><a href="#3-4-merapikan-data">Merapikan Data</a></li>
<li><a href="#3-5-transformasi-data">Transformasi Data</a></li>
</ul>
</blockquote>
<div id="import-file" class="section level2">
<h2>3.1 Import File</h2>
<p>Pada sesi bagian ini penulis akan menjelaskan cara mengimport file pada <code>R</code>. File yang diimport ke dalam <code>R</code> terdiri atas file yang sering digunakan pada saat akan melakukan analisis data, antara lain: TXT, CSv, Excel, SPSS, SAS, dan STATA.</p>
<p>Pada bagian ini akan dijelaskan pula bagaimana melakukan import data menggunakan library <code>readr</code> serta kelebihan dari metode import data yang digunakan. Berikut adalah cara mengimport data berbagai format pada <code>R</code>.</p>
<blockquote>
<p><strong>Note: </strong> Pastikan kita telah mengatur lokasi <em>working directory</em> pada tempat dimana lokasi file yang akan kita baca berada untuk mempermudah dalam melakukan import file.</p>
</blockquote>
<div id="import-file-menggunakan-fungsi-bawaan-r" class="section level3">
<h3>3.1.1 Import File Menggunakan Fungsi Bawaan R</h3>
<p>Fungsi bawaan <code>R</code> secara umum hanya dapat membaca data dengan format TXT dan CSV. Pada <code>RStudio</code> fungsi ini bertambah dengan adanya library tambahan yang telah terinstall di <code>RStudio</code> untuk membaca file dengan format EXCEL, SPSS, SAS dan STATA.</p>
<p>Secara umum fungsi yang digunakan untuk membaca data dengan format tabel seperti TXT dan CSV adalah fungsi<code>read.table()</code>. Berikut adalah list fungsi dasar lainnya untuk membaca file dengan format TXT dan CSV pada <code>R</code>:</p>
<ul>
<li><strong>read.csv()</strong>: untuk membaca file dengan format <em>comma separated value</em>(“.csv”).</li>
<li><strong>read.csv2()</strong>: varian yang digunakan jika pada file “.csv” yang akan dibaca mengandung koma (“,”) sebagai desimal dan semicolon (“;”) sebagai pemisah antar variabel atau kolom.</li>
<li><strong>read.delim()</strong>: untuk membaca file dengan format <em>tab-separated value</em>(“.txt”).</li>
<li><strong>read.delim2()</strong>: membaca file dengan format “.txt” dengan tanda koma (“,”) sebagai penujuk bilangan desimal.</li>
</ul>
<p>Masing-masing fungsi diatas dapat dituliskan kedalam <code>R</code> dengan format sebagai berikut:</p>
<pre class="r"><code># Membaca tabular data pada  R
read.table(file, header = FALSE, sep = &quot;&quot;, dec = &quot;.&quot;)
# Membaca&quot;comma separated value&quot; files (&quot;.csv&quot;)
read.csv(file, header = TRUE, sep = &quot;,&quot;, dec = &quot;.&quot;, ...)
# atau gunakan read.csv2 jika tanda desimal pada data adalah &quot;,&quot; dan pemisah kolom adalah &quot;;&quot;
read.csv2(file, header = TRUE, sep = &quot;;&quot;, dec = &quot;,&quot;, ...)
# MembacaTAB delimited files
read.delim(file, header = TRUE, sep = &quot;\t&quot;, dec = &quot;.&quot;, ...)
read.delim2(file, header = TRUE, sep = &quot;\t&quot;, dec = &quot;,&quot;, ...)</code></pre>
<blockquote>
<p><strong>Note: </strong></p>
<ul>
<li><strong>file</strong>: nama file diakhiri dengan format file (misal: “nama_file.txt”) yang akan di import ke dalam file. Dapat pula diisi lokasi file tersebut berada, misal:(C:/Users/My PC/Documents/nama_file.txt atau .csv)</li>
<li><strong>sep</strong>: pemisah antar kolom. “” digunakan untuk tab-delimited file.</li>
<li><strong>header</strong>: nilai logik. jika TRUE, maka <code>read.table()</code> akan menganggap bahwa file yang akan dibaca pada baris pertama file merupakan header data.</li>
<li><strong>dec</strong>: karakter yang digunakan sebagai penunjuk desimal pada data.</li>
</ul>
</blockquote>
<p>Untuk info lebih lanjut terkait fungsi-fungsi tersebut dan contoh bagaimana menggunakannya, pembaca dapat mengakses fitur batuan dari fungsi tersebut menggunakan sintaks berikut:</p>
<pre class="r"><code># mengakses menu bantuan
?read.table
?read.csv
?read.csv2
?read.delim
?read.delim2</code></pre>
<p>Misalkan penulis memiliki data pada file bernama “mtcars.csv” dengan desimal berupa titik pada datanya. Penulsi ingin membaca file tersebut, maka penulis akan menuliskan sintaks berikut:</p>
<pre class="r"><code>data &lt;- read.csv(&quot;mtcars.csv&quot;)</code></pre>
<p>Secara default perintah tersebut akan membaca baris pertama data sebagai header serta data berupa karakter menjadi factor. Untuk mencegah agar data berupa karakter menjadi faktor, perintah tersebut dapat ditambahkan parameter <code>stringAsFactor = FALSE</code>.</p>
<p>Kita juga dapat memilih file yang akan kita baca secara interakti. Misal pada <em>working directory</em> terdapat beberapa file yang akan kita baca. Kita ingin melihat file dengan format tertentu yang hendak kita baca, namun kita malas mengecek file explorer pada windows. Untuk mengatasi masalah tersebut, kita dapat menggunakan fungsi <code>file.choose()</code> pada <code>R</code>. Fungsi tersebut akan menampilkan jendela windows explores sehingga kita dapat memilih file apa yang hendak dibaca. Berikut adalah contoh penerapannya:</p>
<pre class="r"><code>data &lt;- read.csv(file.choose())</code></pre>
<blockquote>
<p><strong>Note: </strong> pastikan format file yang dibaca sama dengan fungsi import yang digunakan.</p>
</blockquote>
<p>Kita juga dapat membaca file dari internet. Untuk melakukannya kit hanya perlu meng-copy url file tersebut. Berikut adalah contoh file yang dibaca dari internet:</p>
<pre class="r"><code># Membaca file dari internet
data &lt;- read.delim(&quot;http://www.sthda.com/upload/boxplot_format.txt&quot;)

# mengecek 6 observasi awal
head(data)</code></pre>
<pre><code>##    Nom variable Group
## 1 IND1       10     A
## 2 IND2        7     A
## 3 IND3       20     A
## 4 IND4       14     A
## 5 IND5       14     A
## 6 IND6       12     A</code></pre>
</div>
<div id="membaca-file-csv-dan-txt-menggunakan-library-readr" class="section level3">
<h3>3.1.2 Membaca File CSV dan TXT Menggunakan Library readr</h3>
<p>Pada bagian sebelumnya kita telah belajar bagaimana cara membaca file dengan format CSV dan TXT menggunakan paket dasar <code>R</code>. Pada bagian ini penulis akan menjelaskan bagaimana cara membaca file dengan format TXT dan CSV pada <code>R</code> menggunakan paket <code>readr</code>.</p>
<p><code>readr</code> dikembangkan oleh Hadley Wickham. paket <code>readr</code> memberikan solusi cepat dan ramah untuk membaca delimited file ke dalam <code>R</code>.</p>
<p>Dibandingkan dengan paket dasar <code>R</code>, <code>readr</code> memiliki kelebihan sebagai berikut:</p>
<ul>
<li>Mampu membaca file 10x lebih cepat dibandingkan pada paket bawaan <code>R</code>.</li>
<li>Menampilkan <em>progress bar</em> yang bermanfaat jika proses pemuatan berlangsung agak lama.</li>
<li>semua fungsi bekerja dengan cara yang persis sama dengan paket bawaan <code>R</code>.</li>
</ul>
<p>Untuk dapat menggunakan <code>readr</code>, kita perlu menginstall paketnya terlebih dahulu. Untuk melakukannya jalankan sintaks berikut:</p>
<pre class="r"><code># Menginstall paket
install.packages(&quot;readr&quot;)

# Memuat paket
library(readr)</code></pre>
<p>Berikut adalah format bebrapa fungsi yang dapat digunakan:</p>
<pre class="r"><code># Fungsi umum (membaca TXT dan CSV) dapat juga membaca flat file dan tsv
read_delim(file, delim, col_names = TRUE)
# Membaca comma (&quot;,&quot;) separated values
read_csv(file, col_names = TRUE)
# Membaca semicolon (&quot;;&quot;) separated values
read_csv2(file, col_names = TRUE)
# Membaca tab separated values
read_tsv(file, col_names = TRUE)</code></pre>
<blockquote>
<p><strong>Note: </strong></p>
<ul>
<li><strong>file</strong>: path file, koneksi atau raw vector. File yang berakhiran .gz, .bz2, .xz, atau .zip akan secara otomatis tidak terkompresi. File yang dimulai dengan “http: //”, “https: //”, “ftp: //”, atau “ftps: //” akan diunduh secara otomatis. File gz jarak jauh juga dapat diunduh &amp; didekompresi secara otomatis.</li>
<li><strong>delim</strong>: karakter yang membatasi tiap nilai pada file.</li>
<li><strong>col_names</strong>: nilai logik. Jika TRUE, maka baris pertama akan menjadi header.</li>
</ul>
</blockquote>
<p>Berikut adalah contoh bagaimana cara membaca file menggunakan fungsi pada paket <code>readr</code>:</p>
<pre class="r"><code># Membaca file lokal
data &lt;- read_csv(&quot;mtcars.csv&quot;)

# atau
data &lt;- read_csv(file.choose())

# Membaca dari internet
data &lt;- read_tsv(&quot;http://www.sthda.com/upload/boxplot_format.txt&quot;)</code></pre>
<p>Kita juga dapat menspesifikasi jenis data pada kolom yang akan dibaca. Keuntungan dari penentuan jenis kolom (tipe data) akan memastikan data yang telah dibaca tidak salah berdasarkan jenis data pada masing-masing kolom.</p>
<p>Beberapa format jenis kolom yang tersedia pada <code>readr</code> adalah sebagi berikut:</p>
<ul>
<li><strong>col_integer()</strong>: untuk menentukan integer (alias = “i”).</li>
<li><strong>col_double()</strong>: untuk menentukan kolom sebagai jenis data double (alias = “d”).</li>
<li><strong>col_logical()</strong>: untuk menentukan variabel logis (alias = “l”).</li>
<li><strong>col_character()</strong>: meninggalkan string apa adanya.Tidak mengonversinya menjadi faktor (alias = “c”).</li>
<li><strong>col_factor()</strong>: untuk menentukan variabel faktor (atau pengelompokan) (alias = “f”)</li>
<li><strong>col_skip()</strong>: untuk mengabaikan kolom (alias = “-” atau “_“)</li>
<li><strong>col_date()</strong> (alias = “D”), <strong>col_datetime()</strong> (alias = “T”) dan <strong>col_time()</strong> (“t”) untuk menentukan tanggal, waktu tanggal, dan waktu.</li>
</ul>
<p>Berikut adalah contoh penerapannya:</p>
<pre class="r"><code>data &lt;- read_csv(&quot;my_file.csv&quot;, col_types = cols(
  x = &quot;i&quot;, # kolom integer
  treatment = &quot;c&quot; # kolom karakter/string
))</code></pre>
</div>
<div id="import-file-excel-pada-r" class="section level3">
<h3>3.1.3 Import File Excel Pada R</h3>
<p>Keunggulan penggunaan excel sebagai format penyimpan data adalah kita dapat menyimpan banyak data dan memisahkannya pada lembar (<em>sheet</em>) yang berbeda sebagai suatu data yang independen dibandingkan pembacaan pada file csv yang hanya berisikan satu tabel data saja tiap file.</p>
<p>Pada <code>R</code> kita dapat melakukan pembacaan file menggunakan berbagai macam cara seperti menggunakan paket bawaan <code>R</code> maupun menggunakan library yang perlu kita install. Berikut adalah beberapa cara membaca file excel pada <code>R</code>.</p>
<ol style="list-style-type: lower-alpha">
<li><p>Mengkonversi terlebih dahulu satu sheet excel yang akan kita baca menjadi format “.csv” maupun “.txt” sehingga dapat dibaca seperti pada sub-bab 3.1.1.</p></li>
<li><p>Menyalin data dari excel dan mengimport data pada <code>R</code>.</p></li>
</ol>
<p>Cara ini sedikit mirip dengan cara sebelumnya, dimana kita perlu membuka file excel dan melakukan <strong>select</strong> dan <strong>copy</strong> (ctrl+c) tabel data yang hendak dibaca. Data tersebut selanjutnya akan tersimpan pada <strong>clipboard</strong>.</p>
<p>Data yang telah tersalin selanjutnya diimport ke <code>R</code> dengan mengetikkan sintaks berikut:</p>
<pre class="r"><code>data &lt;- read.table(file= &quot;clipboard&quot;,
                   sep = &quot;\t&quot;, header = TRUE)</code></pre>
<p>Cara ini merupakan cara yang paling sering penulis gunakan. Kelemahan penggunaan cara ini adalah ketika kita melakukan proses <strong>select</strong> dan <strong>copy</strong> (ctrl+c) tabel yang jumlahnya sangat banyak dan terdapat teks-teks penjelasan terkait tabel data pada lembar kerja excel yang tidak ingin kita sertakan akan memakan waktu yang lebih lama pada proses <strong>select</strong>.</p>
<ol start="3" style="list-style-type: lower-alpha">
<li>Mengimport data menggunakan library readxl.</li>
</ol>
<p>Paket <code>readxl</code>, yang dikembangkan oleh Hadley Wickham, dapat digunakan untuk dengan mudah mengimpor file Excel (xls | xlsx) ke <code>R</code> tanpa ada ketergantungan eksternal.</p>
<p>Untuk dapat menggunakan library <code>readxl</code> kita harus menginstallnya terlebih dahulu menggunakan sintaks berikut:</p>
<pre class="r"><code># Instal paket
install.packages(&quot;readxl&quot;)

# memuat paket
library(readxl)</code></pre>
<p>Berikut adalah contoh cara mengimport data dengan format xls atau xlsx pada <code>R</code>.</p>
<pre class="r"><code># Tentukan sheet dengan nama sheet pada file
data &lt;- read_excel(&quot;my_file.xlsx&quot;, sheet = &quot;data&quot;)

# Tentukan sheet berdasarkan indeks sheet
data &lt;- read_excel(&quot;my_file.xlsx&quot;, sheet = 2) # membaca sheet ke-2</code></pre>
<ol start="4" style="list-style-type: lower-alpha">
<li>Mengimport data menggunakan library xlsx</li>
</ol>
<p>Paket <code>xlsx</code>, solusi berbasis <code>java</code>, adalah salah satu paket <code>R</code> yang ampuh untuk membaca, menulis, dan memformat file Excel. Untuk dapat menggunakannya kita harus menginstall dan memuatnya terlebih dahulu. Berikut sintaks yang digunakan:</p>
<pre class="r"><code># Menginstall paket
install.packages(&quot;xlsx&quot;)

# Memuat paket
library(xlsx)</code></pre>
<p>Terdapat dua buah fungsi yang disediakan pada paket tersebut yaitu <code>read.xlsx()</code> dan <code>read.xlsx2()</code>. Perbedaan keduanya adalah <code>read.xlsx2()</code> digunakan pada file data dengan ukuran yang besar serta proses pembacaan data yang lebih cepat dibandingkan dengan <code>read.xlsx()</code>. Fromat yang digunakan untuk kedua fungsi tersebut disajikan sebagai berikut:</p>
<pre class="r"><code>read.xlsx(file, sheetIndex, header=TRUE)
read.xlsx2(file, sheetIndex, header=TRUE)</code></pre>
<blockquote>
<p><strong>Note: </strong></p>
<ul>
<li><strong>file</strong>: nama atau lokasi file berada</li>
<li><strong>sheetIndex</strong>: Indeks dari sheet yang hendak dibaca</li>
<li><strong>header</strong>: nilai logik. Jika bernilai TRUE, maka baris pertama dari sheet menjadi header.</li>
</ul>
</blockquote>
<p>Berikut adalah contoh penggunaanya:</p>
<pre class="r"><code>data &lt;- read.xlsx(file.choose(), 1) # membaca sheet 1</code></pre>
<blockquote>
<p><strong>Note: </strong> kita juga dapat membaca file dari internet seperti pada sub-bab 3.1.1.</p>
</blockquote>
</div>
<div id="membaca-file-dari-format-aplikasi-statistik" class="section level3">
<h3>3.1.4 Membaca File Dari Format Aplikasi Statistik</h3>
<p>Untuk membaca file yang berasal dari format aplikasi statistik seperti SPSS, SAS, dan STATA kita perlu menginstal dan memuat paket-paket yang dibutuhkan sesuai dengan file yang akan kita install. Berikut adalah sintaks bagaimana cara mengimport file dari berbagai format aplikasi statistik.</p>
<pre class="r"><code># membaca file SPSS
install.packages(&quot;Hmisc&quot;) # menginstall paket
library(Hmisc) # memuat paket
# simpan SPSS dataset pada transport format
get file=&#39;c:\mydata.sav&#39;.
export outfile=&#39;c:\mydata.por&#39;. 
data &lt;- spss.get(&quot;c:\mydata.por&quot;, use.value.labels= TRUE) # use.value.labels digunakan untuk mengubah label menjadi factor


# membaca file SAS
install.packages(&quot;Hmisc&quot;) # menginstall paket
library(Hmisc) # memuat paket
# simpan SAS dataset pada transport format
libname out xport &#39;c:/mydata.xpt&#39;;
data out.mydata;
set sasuser.mydata;
run;
data &lt;- sasxport.get(&quot;c:/mydata.xpt&quot;) # Variabel yang berupa karakter akan dikonversi menjadi factor


# membaca file STATA
install.packages(&quot;foreign&quot;) # menginstall paket
library(foreign) # memuat paket
data &lt;- read.dta(&quot;c:/mydata.dta&quot;)</code></pre>
</div>
</div>
<div id="eksport-file" class="section level2">
<h2>3.2 Eksport File</h2>
<p>Setelah kita melakukan analisa dan telah memperoleh hasil yang kita inginkan dan memperoleh data frame berupa hasil prediksi suatu model atau data yang telah dibersihakan, kita ingin melakukan pelaporan dalam bentuk file dengan format seperti EXCEL, CSV atau TXT. Untuk melakukannya kita perlu melakukan eksport data yang telah dihasilkan.</p>
<p>Pada bagian ini penulis akan menjelaskan bagaimana cara mengeksport data dari <code>R</code> kedalam format TXT, CSV, maupun EXCEL. Sebenarnya <code>R</code> memungkinkan untuk melakukan eksport dalam format lain seperti RDA maupun RDS yang tidak dibahas dalam buku ini karena berada diluar lingkup buku ini.</p>
<div id="eksport-data-menjadi-format-txt-dan-csv" class="section level3">
<h3>3.2.1 Eksport Data Menjadi Format TXT dan CSV</h3>
<p>Terdapat dua cara untuk melakukan ekport data dari <code>R</code> menjadi format TXT atau CSV, yaitu melalui paket dasar <code>R</code> maupun menggunakan library <code>readr</code>. Kedua cara tersebut memiliki sejumlah kemiripan dari segi fungsi, namun berbeda dari segi kecepatan eksport.</p>
<p>Fungsi dasar yang digunakan pada <code>R</code> untuk melakukan eksport file kedalam format TXT dan CSv adalah <code>write.tabel()</code>. Format umum yang digunakan adalah sebagai berikut:</p>
<pre class="r"><code>write.table(x, file, sep= &quot; &quot;, dec = &quot;,&quot;,
            row.names = TRUE, col.names = TRUE)</code></pre>
<blockquote>
<p><strong>Note: </strong></p>
<ul>
<li><strong>x</strong>: matriks atau data frame yang akan ditulis.</li>
<li><strong>file</strong>: karakter yang menentukan nama file yang dihasilkan.</li>
<li><strong>sep</strong>: string pemisah bidang atau kolom, mis., sep = “ t” (untuk nilai yang dipisahkan tab).</li>
<li><strong>dec</strong>: string yang akan digunakan sebagai pemisah desimal. Standarnya adalah “.”.</li>
<li><strong>row.names</strong>: nilai logik yang menunjukkan apakah nama baris x harus ditulis bersama dengan x, atau vektor karakter nama baris yang akan ditulis.</li>
<li><strong>col.names</strong>: baik nilai logik yang menunjukkan apakah nama kolom x harus ditulis bersama dengan x, atau vektor karakter nama kolom yang akan ditulis. Jika <code>col.names = NA</code> dan <code>row.names = TRUE</code> ditambahkan nama kolom kosong, yang merupakan konvensi yang digunakan untuk file CSV untuk dibaca oleh spreadsheet.</li>
</ul>
</blockquote>
<p>Selain menggunakan fungsi tersebut, untuk eksport ke dalam format CSV juga dapa menggunakan fungsi <code>write.csv()</code> atau <code>write.csv2()</code>. Berikut adalah format yang digunakan:</p>
<pre class="r"><code>write.csv(data, file=&quot;data.csv&quot;)
write.csv2(data, file=&quot;data.csv&quot;)</code></pre>
<p>Secara penampakan kedua fungsi tersebut pada dasarnya sama dengan fungsi <code>write.table()</code>, bedanya adalah kedua fungsi tersebut spesifik digunakan untuk eksport file kedalam format CSV.</p>
<blockquote>
<p><strong>Note: </strong></p>
<ul>
<li><strong>write.csv()</strong> menggunakan “.” sebagai titik desimal serta “,” sebagai pemisah antar kolom data.</li>
<li><strong>write.csv2()</strong> menggunakan “,” sebagai titik desimal serta “;” sebagai pemisah antar kolom data.</li>
</ul>
</blockquote>
<p>Misalkan kita ingin melakukan eksport data objek <code>mtcars</code> kedalam format CSV. Untuk melakukannya dapat dilakukan dengan sintaks berikut:</p>
<pre class="r"><code>write.csv(mtcars, file=&quot;mtcars.csv&quot;, row.names = FALSE)</code></pre>
<blockquote>
<p><strong>Note: </strong> Hasil ekspoet ditampilkan pada <em>working directory</em></p>
</blockquote>
<p>Kita juga dapat menggunakan fungsi <code>write_delim()</code> dari library <code>readr</code> untuk melakukan eksport data kedalam format CSV atau TXT. Berdasarkan format file yang hendak dihasilkan kita juga dapat menggunakan fungsi <code>write_csv()</code> atau <code>write_tsv()</code>. Berikut adalah penjelasan terkait kedua fungsi tersebut:</p>
<ul>
<li><strong>write_csv()</strong>: untuk mengeksport kedalam format CSV.</li>
<li><strong>write_tsv()</strong>: untuk mengeksport kedalam format TXT.</li>
</ul>
<p>Format sederhana ketiga fungsi fungsi tersebut adalah sebagai berikut:</p>
<pre class="r"><code># Fungsi umum
write_delim(x, path, delim = &quot; &quot;)
# Write comma (&quot;,&quot;) separated value files
write_csv(file, path)
# Write tab (&quot;\t&quot;) separated value files
write_tsv(file, path)</code></pre>
<blockquote>
<p><strong>Note: </strong></p>
<ul>
<li><strong>x</strong>: data frame yang akan ditulis</li>
<li><strong>path</strong>: path ke file hasil (dapat berupa nama file disertai ekstensi file yang akan dibuat)</li>
<li><strong>delim</strong>: Delimiter digunakan untuk memisahkan nilai. Harus karakter tunggal.</li>
</ul>
</blockquote>
<p>Berikut adalah contoh penerapan dari fungsi tersebut:</p>
<pre class="r"><code># memuat mtcars data
data(mtcars)
library(readr)

# eksport mtcars menjadi tsv atau txt
write_tsv(mtcars, path = &quot;mtcars.txt&quot;)

# eksport mycars menjadi csv
write_csv(mtcars, path = &quot;mtcars.csv&quot;)</code></pre>
</div>
<div id="eksport-data-menjadi-format-excel" class="section level3">
<h3>3.2.2 Eksport Data Menjadi Format Excel</h3>
<p>Untuk mengeksport data menjadi format EXCEL (“.xls” atau “.xlsx”) kita dapat menggunakan fungsi <code>write.xlsx()</code> dan <code>write.xlsx2()</code> dari library <code>xlsx</code>. Berikut adalah format sederhana yanga digunakan:</p>
<pre class="r"><code>write.xlsx(x, file, sheetName = &quot;Sheet1&quot;, 
  col.names = TRUE, row.names = TRUE, append = FALSE)
write.xlsx2(x, file, sheetName = &quot;Sheet1&quot;,
  col.names = TRUE, row.names = TRUE, append = FALSE)</code></pre>
<blockquote>
<p><strong>Note: </strong></p>
<ul>
<li><strong>x</strong>: sebuah data frame untuk ditulis ke dalam worksheet.</li>
<li><strong>file</strong>: path ke file output.</li>
<li><strong>sheetName</strong>: string karakter yang digunakan untuk nama sheet.</li>
<li><strong>col.names, row.names</strong>: nilai logik yang menentukan apakah nama kolom / nama baris x akan ditulis ke file.</li>
<li><strong>append</strong>: nilai logis yang menunjukkan apakah x harus ditambahkan ke file yang ada.</li>
</ul>
</blockquote>
<p>Berikut adalah contoh penerapannya:</p>
<pre class="r"><code>library(&quot;xlsx&quot;)
# Menuliskan dataset pertama pada workbook
write.xlsx(USArrests, file = &quot;myworkbook.xlsx&quot;,
      sheetName = &quot;USA-ARRESTS&quot;, append = FALSE)
# Menambahkan dataset kedua pada workbook
write.xlsx(mtcars, file = &quot;myworkbook.xlsx&quot;, 
           sheetName=&quot;MTCARS&quot;, append=TRUE)
# Menambahkan dataset kedua pada workbook
write.xlsx(iris, file = &quot;myworkbook.xlsx&quot;,
           sheetName=&quot;IRIS&quot;, append=TRUE)</code></pre>
</div>
</div>
<div id="tibble-data-format" class="section level2">
<h2>3.3 Tibble Data Format</h2>
<p>Tibble adalah data frame yang menyediakan metode print yang lebih bagus, berguna saat bekerja dengan kumpulan data besar. Pada bagian ini penulis akan menjelaskan penggunaan tibble sebagai alternatif kita dalam berinteraksi dengan data frame.</p>
<p>Untuk membuat tibble kita perlu menginstall dan memuat library <code>tibble</code> yang dikembangkan oleh <strong>Hadley Wichham</strong>. Berikut adalah sintaks yang digunakan:</p>
<pre class="r"><code># menginstall paket
install.packages(&quot;tibble&quot;)

# memuat paket
library(tibble)</code></pre>
<div id="membuat-tibble" class="section level3">
<h3>3.3.1 Membuat Tibble</h3>
<p>Untuk dapat membuat tibble kita dapat melakukan konversi data frame yang sudah ada menjadi tibble menggunakan fungsi <code>as_tibble()</code>. Berikut adalah contoh bagaimana membuat tibble mengunakan data <code>iris</code>:</p>
<pre class="r"><code># memuat data mtcars
data(&quot;iris&quot;)

# print
head(iris, 10)</code></pre>
<pre><code>##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1           5.1         3.5          1.4         0.2  setosa
## 2           4.9         3.0          1.4         0.2  setosa
## 3           4.7         3.2          1.3         0.2  setosa
## 4           4.6         3.1          1.5         0.2  setosa
## 5           5.0         3.6          1.4         0.2  setosa
## 6           5.4         3.9          1.7         0.4  setosa
## 7           4.6         3.4          1.4         0.3  setosa
## 8           5.0         3.4          1.5         0.2  setosa
## 9           4.4         2.9          1.4         0.2  setosa
## 10          4.9         3.1          1.5         0.1  setosa</code></pre>
<pre class="r"><code># konversi mtcars menjadi tibble
iris_tbl &lt;- as_tibble(iris)

# print
iris_tbl</code></pre>
<pre><code>## # A tibble: 150 x 5
##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species
##           &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;  
##  1          5.1         3.5          1.4         0.2 setosa 
##  2          4.9         3            1.4         0.2 setosa 
##  3          4.7         3.2          1.3         0.2 setosa 
##  4          4.6         3.1          1.5         0.2 setosa 
##  5          5           3.6          1.4         0.2 setosa 
##  6          5.4         3.9          1.7         0.4 setosa 
##  7          4.6         3.4          1.4         0.3 setosa 
##  8          5           3.4          1.5         0.2 setosa 
##  9          4.4         2.9          1.4         0.2 setosa 
## 10          4.9         3.1          1.5         0.1 setosa 
## # ... with 140 more rows</code></pre>
<blockquote>
<p><strong>Note: </strong> Kita dapat mengkonversi tibble menjadi data frame menggunakan fungsi <code>as.data.frame()</code></p>
</blockquote>
<p>Secara default saya kita print tibble, maka akan dimunculkan 10 observasi pertama. Pada data frame biasa jika kita print data tersebut maka seluruh observasi akan ditampilkan.</p>
<p>Penggunaan tibble ini cenderung menguntungkan saat kita bekerja dengan jumlah data yang besar dan ingin mengecek observasi yang ada. Hal ini berbeda dengan data frame biasa dimana untuk mengecek observasi awal kita perlu menggunakan fungsi <code>head()</code> agar seluruh data tidak ditampilkan. Sehingga penggunaan tibble cenderung membuat proses analisa menjadi lebih rapi.</p>
<p>Kita juga dapat membuat tibble dari kumpulan sejumlah vektor menggunakan fungsi <code>tibble()</code>. <code>tibble()</code> akan secara otomatis mendaur ulang input dengan panjang 1 (variabel <code>y</code>), dan memungkinkan kita untuk merujuk ke variabel yang baru saja kita buat, seperti yang ditunjukkan pada sintaks berikut:</p>
<pre class="r"><code>tibble(
  x = 1:20,
  y = 1,
  z = 2*x+5*y
)</code></pre>
<pre><code>## # A tibble: 20 x 3
##        x     y     z
##    &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1     1     1     7
##  2     2     1     9
##  3     3     1    11
##  4     4     1    13
##  5     5     1    15
##  6     6     1    17
##  7     7     1    19
##  8     8     1    21
##  9     9     1    23
## 10    10     1    25
## 11    11     1    27
## 12    12     1    29
## 13    13     1    31
## 14    14     1    33
## 15    15     1    35
## 16    16     1    37
## 17    17     1    39
## 18    18     1    41
## 19    19     1    43
## 20    20     1    45</code></pre>
<p>Jika pembaca telah mulai familiar dengan fungsi <code>data.frame()</code>, perlu diingat bahwa <code>tibble()</code> melakukan lebih sedikit: tidak pernah mengubah jenis input (mis., tidak pernah mengubah string menjadi faktor!), tidak pernah mengubah nama variabel, dan tidak pernah membuat nama baris seperti yang biasa terjadi saat kita menggunakan fungsi <code>data.frame()</code>.</p>
<p>Cara lain yang dapat digunakan untuk membuat tibble adalah dengan menggunakan fungsi <code>tribble()</code> yang merupakan singkatan dari <em>transposed tibble</em>. <code>tribble()</code> dikustomisasi untuk entri data dalam kode: judul kolom didefinisikan oleh rumus (yaitu, mereka mulai dengan ~), dan entri dipisahkan oleh koma. Hal ini memungkinkan untuk menata sejumlah kecil data dalam bentuk yang mudah dibaca. Berikut adalah contoh penerapannya:</p>
<pre class="r"><code>tribble(
  ~x, ~y, ~z,
  #--/--/----
  &quot;a&quot;, 2, 5,
  &quot;b&quot;, 5, 7
)</code></pre>
<pre><code>## # A tibble: 2 x 3
##   x         y     z
##   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 a         2     5
## 2 b         5     7</code></pre>
<p>Penambahahan komen (#–/–/—-) dilakukan untuk memperjelas posisi dari header sehingga meminimalisir kesalahan dalam input data.</p>
</div>
<div id="tibble-vs-data-frame" class="section level3">
<h3>3.3.2 Tibble vs Data Frame</h3>
<p>terdapat dua buah perbedaan utama antara tibble dan data frame , yaitu: <em>printing</em> dan <em>subsetting</em>.</p>
<ol style="list-style-type: lower-alpha">
<li><strong>Printing</strong></li>
</ol>
<p>Tibbles memiliki metode print halus yang hanya menampilkan 10 baris pertama observasi, dan semua kolom yang sesuai dengan lebar layar. Ini membuatnya lebih mudah untuk bekerja dengan data besar. Selain namanya, setiap kolom melaporkan jenis datanya, fitur bagus yang dipinjam dari fungsi <code>str()</code>. Berikut adalah contohnya:</p>
<pre class="r"><code>tribble(
  ~x, ~y, ~z,
  #--/---/--------
  &quot;a&quot;, 2.1, FALSE,
  &quot;b&quot;, 5.5, TRUE
)</code></pre>
<pre><code>## # A tibble: 2 x 3
##   x         y z    
##   &lt;chr&gt; &lt;dbl&gt; &lt;lgl&gt;
## 1 a       2.1 FALSE
## 2 b       5.5 TRUE</code></pre>
<p>Tibbles dirancang agar kita tidak secara sengaja menampilkan data yang sangat banyak saat melakukan perintah <code>print()</code>. Tetapi terkadang kita membutuhkan lebih banyak output daripada tampilan default. Ada beberapa opsi yang dapat membantu.</p>
<p>Pertama, kita dapat secara eksplisit melakukan print data frame dan mengontrol jumlah baris (n) dan lebar tampilan. <code>width = Inf</code> akan menampilkan semua kolom. Berikut adalah contoh penerapannya</p>
<pre class="r"><code>print(iris_tbl, n=15, width=Inf)</code></pre>
<pre><code>## # A tibble: 150 x 5
##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species
##           &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;  
##  1          5.1         3.5          1.4         0.2 setosa 
##  2          4.9         3            1.4         0.2 setosa 
##  3          4.7         3.2          1.3         0.2 setosa 
##  4          4.6         3.1          1.5         0.2 setosa 
##  5          5           3.6          1.4         0.2 setosa 
##  6          5.4         3.9          1.7         0.4 setosa 
##  7          4.6         3.4          1.4         0.3 setosa 
##  8          5           3.4          1.5         0.2 setosa 
##  9          4.4         2.9          1.4         0.2 setosa 
## 10          4.9         3.1          1.5         0.1 setosa 
## 11          5.4         3.7          1.5         0.2 setosa 
## 12          4.8         3.4          1.6         0.2 setosa 
## 13          4.8         3            1.4         0.1 setosa 
## 14          4.3         3            1.1         0.1 setosa 
## 15          5.8         4            1.2         0.2 setosa 
## # ... with 135 more rows</code></pre>
<p>Kita juga dapat mengontrol print default dengan melakukan pengaturan menggunakan fungsi <code>options()</code>. Berikut adalah contoh penerapannya:</p>
<ul>
<li><strong>options(tibble.print_max= n, tibble.print_min= m)</strong>: jika terdapat lebih dari “m” baris, print hanya sejumlah “n” baris.</li>
<li><strong>options(dplyr.print_min = Inf)</strong>: untuk selalu menampilkan seluruh baris. Perlu diingat fungsi ini dapat digunakan saat kita telah memuat library <code>dplyr</code>.</li>
<li><strong>options(tibble.width = Inf)</strong>: menampilkan seluruh kolom tanpa mempedulikan lebar tampilan layar.</li>
</ul>
<p>Cara terakhir untuk menampilkan seluruh observasi adalh dengan fungsi <code>view()</code>. Berikut adalah contoh penerapannya pada data <code>iris_tbl</code>:</p>
<pre class="r"><code>view(iris_tbl)</code></pre>
<ol start="2" style="list-style-type: lower-alpha">
<li><strong>Subsetting</strong></li>
</ol>
<p>Sejauh ini semua alat yang kita pelajari telah bekerja dengan data frame yang lengkap. Jika kita ingin mengeluarkan variabel tunggal, kita memerlukan beberapa alat baru, dollar sign (<code>$</code>) dan [[. [[dapat mengekstraksi berdasarkan nama atau posisi; <code>$</code> hanya mengekstraksi berdasarkan nama. Berikut adalah contoh penerapannya:</p>
<pre class="r"><code># print tibble
iris_tbl</code></pre>
<pre><code>## # A tibble: 150 x 5
##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species
##           &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;  
##  1          5.1         3.5          1.4         0.2 setosa 
##  2          4.9         3            1.4         0.2 setosa 
##  3          4.7         3.2          1.3         0.2 setosa 
##  4          4.6         3.1          1.5         0.2 setosa 
##  5          5           3.6          1.4         0.2 setosa 
##  6          5.4         3.9          1.7         0.4 setosa 
##  7          4.6         3.4          1.4         0.3 setosa 
##  8          5           3.4          1.5         0.2 setosa 
##  9          4.4         2.9          1.4         0.2 setosa 
## 10          4.9         3.1          1.5         0.1 setosa 
## # ... with 140 more rows</code></pre>
<pre class="r"><code># subset berdasarkan nama kolom
iris_tbl$Sepal.Length</code></pre>
<pre><code>##   [1] 5.1 4.9 4.7 4.6 5.0 5.4 4.6 5.0 4.4 4.9 5.4 4.8 4.8 4.3 5.8 5.7 5.4
##  [18] 5.1 5.7 5.1 5.4 5.1 4.6 5.1 4.8 5.0 5.0 5.2 5.2 4.7 4.8 5.4 5.2 5.5
##  [35] 4.9 5.0 5.5 4.9 4.4 5.1 5.0 4.5 4.4 5.0 5.1 4.8 5.1 4.6 5.3 5.0 7.0
##  [52] 6.4 6.9 5.5 6.5 5.7 6.3 4.9 6.6 5.2 5.0 5.9 6.0 6.1 5.6 6.7 5.6 5.8
##  [69] 6.2 5.6 5.9 6.1 6.3 6.1 6.4 6.6 6.8 6.7 6.0 5.7 5.5 5.5 5.8 6.0 5.4
##  [86] 6.0 6.7 6.3 5.6 5.5 5.5 6.1 5.8 5.0 5.6 5.7 5.7 6.2 5.1 5.7 6.3 5.8
## [103] 7.1 6.3 6.5 7.6 4.9 7.3 6.7 7.2 6.5 6.4 6.8 5.7 5.8 6.4 6.5 7.7 7.7
## [120] 6.0 6.9 5.6 7.7 6.3 6.7 7.2 6.2 6.1 6.4 7.2 7.4 7.9 6.4 6.3 6.1 7.7
## [137] 6.3 6.4 6.0 6.9 6.7 6.9 5.8 6.8 6.7 6.7 6.3 6.5 6.2 5.9</code></pre>
<pre class="r"><code>#subset berdasarkan posisi
iris_tbl[[1]]</code></pre>
<pre><code>##   [1] 5.1 4.9 4.7 4.6 5.0 5.4 4.6 5.0 4.4 4.9 5.4 4.8 4.8 4.3 5.8 5.7 5.4
##  [18] 5.1 5.7 5.1 5.4 5.1 4.6 5.1 4.8 5.0 5.0 5.2 5.2 4.7 4.8 5.4 5.2 5.5
##  [35] 4.9 5.0 5.5 4.9 4.4 5.1 5.0 4.5 4.4 5.0 5.1 4.8 5.1 4.6 5.3 5.0 7.0
##  [52] 6.4 6.9 5.5 6.5 5.7 6.3 4.9 6.6 5.2 5.0 5.9 6.0 6.1 5.6 6.7 5.6 5.8
##  [69] 6.2 5.6 5.9 6.1 6.3 6.1 6.4 6.6 6.8 6.7 6.0 5.7 5.5 5.5 5.8 6.0 5.4
##  [86] 6.0 6.7 6.3 5.6 5.5 5.5 6.1 5.8 5.0 5.6 5.7 5.7 6.2 5.1 5.7 6.3 5.8
## [103] 7.1 6.3 6.5 7.6 4.9 7.3 6.7 7.2 6.5 6.4 6.8 5.7 5.8 6.4 6.5 7.7 7.7
## [120] 6.0 6.9 5.6 7.7 6.3 6.7 7.2 6.2 6.1 6.4 7.2 7.4 7.9 6.4 6.3 6.1 7.7
## [137] 6.3 6.4 6.0 6.9 6.7 6.9 5.8 6.8 6.7 6.7 6.3 6.5 6.2 5.9</code></pre>
<p>Dibandingkan dengan data frame, tibble lebih ketat: tibble tidak pernah melakukan <em>partial matching</em>, dan mereka akan menghasilkan peringatan jika kolom yang kita coba akses tidak ada.</p>
</div>
</div>
<div id="merapikan-data" class="section level2">
<h2>3.4 Merapikan Data</h2>
<p>Sebelum memulai analisa terhadap data yang kita miliki, umumnya kita akan merapikan data yang akan kita gunakan. Tujuannya adalah agar data yang akan digunakan sudah siap untuk dilakukan analisa dengan software tertentu seperti <code>R</code>, dimana pada dataset perlu jelas antara variabel dan nilai (<em>value</em>), serta untuk mempermudah dalah memperoleh informasi pada data. Berikut adalah beberapa contoh dataset yang dapat pembaca cermati terkait manakah data yang telah rapi (<em>tidy data</em>) dan mana yang belum (<em>messy data</em>):</p>
<pre class="r"><code># Install paket dataset EDAWR
# install.packages(&quot;devtools&quot;)
# devtools::install_github(&quot;rstudio/EDAWR&quot;)

# hilangkan tanda # jika pembaca belum menginstall</code></pre>
<pre class="r"><code>library(EDAWR)
# memuat dataset
storms</code></pre>
<pre><code>##     storm wind pressure       date
## 1 Alberto  110     1007 2000-08-03
## 2    Alex   45     1009 1998-07-27
## 3 Allison   65     1005 1995-06-03
## 4     Ana   40     1013 1997-06-30
## 5  Arlene   50     1010 1999-06-11
## 6  Arthur   45     1010 1996-06-17</code></pre>
<pre class="r"><code>cases</code></pre>
<pre><code>##   country  2011  2012  2013
## 1      FR  7000  6900  7000
## 2      DE  5800  6000  6200
## 3      US 15000 14000 13000</code></pre>
<pre class="r"><code>pollution</code></pre>
<pre><code>##       city  size amount
## 1 New York large     23
## 2 New York small     14
## 3   London large     22
## 4   London small     16
## 5  Beijing large    121
## 6  Beijing small     56</code></pre>
<p>Sebelum kita melakukan analisa di dataset tersebut, kita harus tahu terlebih dahulu apa saja syarat suatu dataset dikatakan rapi (<em>tidy</em>). Berikut adalah syaratnya:</p>
<ul>
<li>Setiap variabel harus memiliki kolomnya sendiri</li>
<li>Setiap observasi harus memiliki barisnya sendiri</li>
<li>Setiap nilai berada pada sel tersendiri</li>
</ul>
<p>Ketiga syarat tersebut saling berhubungan sehingga jika salah satu syarat tersebut tidak terpenuhi, maka dataset belum bisa dikatakan <em>tidy</em>. Ketiga syarat tersebut dapat divisualisasikan melalui Figure <a href="#fig:tidy">1</a></p>
<div class="figure" style="text-align: center"><span id="fig:tidy"></span>
<img src="/tidy.png" alt="Visualisasi 3 rule tidy data"  />
<p class="caption">
Figure 1: Visualisasi 3 rule tidy data
</p>
</div>
<p>Pada dataset <code>storms</code> terdapat 4 buah kolom dan 6 buah baris. Masing-masing kolom menyatakan variabel pada masing-masing observasi seperti nama badai , kecepatan angin, tekanan dan waktu . Ketiga syarat kerapihan data sudah terpenuhi pada data tersebut sehingga kita bisa melakukan analisa terhadap data tersebut, misalnya kecepatan angin dan tekanan pada masing-masing badai. Selain itu kita juga dapat dengan mudah menginput variabel baru pada dataset tersebut, misal: rasio (kecepatan angin/tekanan).</p>
<p>Berikut adalah contoh bagaimana kita dapat dengan mudah menarik nilai variabel pada masing-masing kolom dan membentuk variabel baru pada dataset tersebut:</p>
<pre class="r"><code># subset variabel
storms$storm</code></pre>
<pre><code>## [1] &quot;Alberto&quot; &quot;Alex&quot;    &quot;Allison&quot; &quot;Ana&quot;     &quot;Arlene&quot;  &quot;Arthur&quot;</code></pre>
<pre class="r"><code>storms$wind</code></pre>
<pre><code>## [1] 110  45  65  40  50  45</code></pre>
<pre class="r"><code>storms$pressure</code></pre>
<pre><code>## [1] 1007 1009 1005 1013 1010 1010</code></pre>
<pre class="r"><code>storms$date</code></pre>
<pre><code>## [1] &quot;2000-08-03&quot; &quot;1998-07-27&quot; &quot;1995-06-03&quot; &quot;1997-06-30&quot; &quot;1999-06-11&quot;
## [6] &quot;1996-06-17&quot;</code></pre>
<pre class="r"><code># membuat variabel baru
storms_new &lt;- storms
storms_new$ratio &lt;- storms_new$wind/storms_new$pressure
storms_new</code></pre>
<pre><code>##     storm wind pressure       date      ratio
## 1 Alberto  110     1007 2000-08-03 0.10923535
## 2    Alex   45     1009 1998-07-27 0.04459861
## 3 Allison   65     1005 1995-06-03 0.06467662
## 4     Ana   40     1013 1997-06-30 0.03948667
## 5  Arlene   50     1010 1999-06-11 0.04950495
## 6  Arthur   45     1010 1996-06-17 0.04455446</code></pre>
<p>Pada dataset <code>cases</code> terdapat 3 buah kolom dan 3 baris. Pada kolom pertama berupa kode Negara, sedangkan kolom sisanya merupakan tahun. Jika kita perhatikan dengan seksama dataset tersebut merupakan sebuah <em>contingency table</em> dimana tabel tersebut menyatakan frekuensi kejadian pada tahun tertentu dan negara tertentu. Dataset tersebut belum dapat dikatan <em>tidy</em> karena kolom <code>2011</code> sampai <code>2013</code> merupakan sebuah nilai dari observasi dan bukan sebuah variabel sehingga dataset tersebut masih tergolong dataset <em>messy</em>. Selain itu sangat sulit untuk dilakukan penarikan terhadap nilai pada setiap kolom serta pembentukan variabel baru sebagai pendukung analisa juga sulit dilakukan. Berikut adalah contoh melakukan penarikan nilai / subset pada masing variabel:</p>
<pre class="r"><code>cases$country</code></pre>
<pre><code>## [1] &quot;FR&quot; &quot;DE&quot; &quot;US&quot;</code></pre>
<pre class="r"><code>names(cases[-1])</code></pre>
<pre><code>## [1] &quot;2011&quot; &quot;2012&quot; &quot;2013&quot;</code></pre>
<pre class="r"><code>unlist(cases[1:3, 2:4])</code></pre>
<pre><code>## 20111 20112 20113 20121 20122 20123 20131 20132 20133 
##  7000  5800 15000  6900  6000 14000  7000  6200 13000</code></pre>
<p>Pada dataset <code>pollution</code>terdapat 3 buah kolom dan 6 baris. Masing-masing kolom menyatakan lokasi berupa nama kota, keterangan ukuran partikel, serta nilai dari ukuran partikel. Beberapa dari kita mungkin menganggap dataset ini telah memenuhi syarat kerapihan data. Namun, coba kita cermati jika mita ingin membuat variabel baru terkait dengan berapa rentang ukuran partikel (range ukuran partikel) pada masing-masing kota. Hal tersebut tentu sangat sulit dilakukan pada dataset tersebut, namun dataset tersebut memungkinkan kita dengan mudah mengambil nilai dari masing-masing variabelnya seperti contoh berikut:</p>
<pre class="r"><code>pollution$city</code></pre>
<pre><code>## [1] &quot;New York&quot; &quot;New York&quot; &quot;London&quot;   &quot;London&quot;   &quot;Beijing&quot;  &quot;Beijing&quot;</code></pre>
<pre class="r"><code>pollution$size</code></pre>
<pre><code>## [1] &quot;large&quot; &quot;small&quot; &quot;large&quot; &quot;small&quot; &quot;large&quot; &quot;small&quot;</code></pre>
<pre class="r"><code>pollution$amount</code></pre>
<pre><code>## [1]  23  14  22  16 121  56</code></pre>
<p>Berdasarkan contoh-contoh tersebut pada pembahasan kali ini penulis akan menjelaskan bagaiman cara melakukan perapihan data menggunakan library <code>tidyr</code>. Sebelum kita melakukannya berikut adalah sintaks untuk menginstall library tersebut:</p>
<pre class="r"><code># memasang paket
install.packages(&quot;tidyr&quot;)</code></pre>
<pre class="r"><code># memuat paket
library(tidyr)</code></pre>
<pre><code>## Warning: package &#39;tidyr&#39; was built under R version 3.5.3</code></pre>
<div id="gather" class="section level3">
<h3>3.4.1 Gather</h3>
<p>Pada dataset <code>cases</code> kolom <code>2011</code> sampai <code>2013</code> perlu dijadikan satu variabel yaitu tahun. untuk melakukannya kita dapat menggunakan fungsi <code>gather()</code>. Secara sederhana fungsi tersebut dapat dituliskan dengan format sebagai berikut:</p>
<pre class="r"><code>gather(data, key, value, ...)</code></pre>
<blockquote>
<p><strong>Note: </strong></p>
<ul>
<li><strong>data</strong>: data frame</li>
<li><strong>key, value</strong>: nama kunci dan kolom nilai yang akan dibuat di output</li>
<li><strong>…</strong>: Spesifikasi kolom untuk dikumpulkan. Nilai yang diizinkan adalah:
<ul>
<li>nama variabel</li>
<li>jika kita ingin memilih semua variabel antara a dan e, gunakan a:e</li>
<li>jika kita ingin mengecualikan nama kolom y gunakan -y</li>
<li>untuk opsi lainnya, lihat: <code>dplyr::select()</code></li>
</ul></li>
</ul>
</blockquote>
<p>Berikut adalah contoh penerapannya pada dataset <code>cases</code>:</p>
<pre class="r"><code># Ubah dataset cases menjadi tibble simpan sebagai objek cases_new
library(tibble)
cases_tbl &lt;- as_tibble(cases)

# print
cases_tbl</code></pre>
<pre><code>## # A tibble: 3 x 4
##   country `2011` `2012` `2013`
##   &lt;chr&gt;    &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
## 1 FR        7000   6900   7000
## 2 DE        5800   6000   6200
## 3 US       15000  14000  13000</code></pre>
<pre class="r"><code># gather
cases_new &lt;- gather(cases_tbl, 
                    # variabel kunci
                    key = &quot;year&quot;,
                    # nilai variabel
                    value = &quot;frequency&quot;,
                    # kecualikan kolom country
                    -country)

# print
cases_new</code></pre>
<pre><code>## # A tibble: 9 x 3
##   country year  frequency
##   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;
## 1 FR      2011       7000
## 2 DE      2011       5800
## 3 US      2011      15000
## 4 FR      2012       6900
## 5 DE      2012       6000
## 6 US      2012      14000
## 7 FR      2013       7000
## 8 DE      2013       6200
## 9 US      2013      13000</code></pre>
<p>Berdasarkan hasil yang diperoleh terlihat bahwa variabel tahun memiliki jenis data karakter. Jenis data ini masih belum sesuai sehingga perlu dikonversi agar menjadi jenis data numerik (<em>dbl = double</em>). Untuk melakukannya jalankan sintaks berikut:</p>
<pre class="r"><code># Ubah jenis variabel tahun menjadi numerik
cases_new$year &lt;- as.numeric(cases_new$year)
cases_new</code></pre>
<pre><code>## # A tibble: 9 x 3
##   country  year frequency
##   &lt;chr&gt;   &lt;dbl&gt;     &lt;dbl&gt;
## 1 FR       2011      7000
## 2 DE       2011      5800
## 3 US       2011     15000
## 4 FR       2012      6900
## 5 DE       2012      6000
## 6 US       2012     14000
## 7 FR       2013      7000
## 8 DE       2013      6200
## 9 US       2013     13000</code></pre>
<p>Data yang diperoleh sekaran telah rapi (<em>tidy</em>), sehingga sudah siap untuk dilakukan analisa data.</p>
</div>
<div id="spread" class="section level3">
<h3>3.4.2 Spread</h3>
<p>Fungsi <code>spread()</code> berkebalikan dengan <code>gather()</code>. Fungsi <code>gather()</code> menggabungkan beberapa kolom menjadi 2 buah kolom kolom kunci sedangkan <code>spread()</code> merubah dua kolom menjadi beberapa kolom. Format sederhanya adalah sebagai berikut:</p>
<blockquote>
<p><strong>Note: </strong></p>
<ul>
<li><strong>data</strong>: data frame</li>
<li><strong>key</strong>: nama kolom yang akan dijadikan heading pada kolom baru</li>
<li><strong>value</strong>: nama kolom yang nilainya akan mengisi setiap sel</li>
</ul>
</blockquote>
<p>Pada contoh kasus pada data <code>pollution</code>, kita dapat memisahkan kolom 2 menjadi kolom baru yaitu kolom <code>big size</code> dan <code>small size</code>. Untuk melakukannya jalankan sintaks berikut:</p>
<pre class="r"><code># merubah objek pollution menjadi tibble
pollution_tbl &lt;- as_tibble(pollution)

# print
pollution_tbl</code></pre>
<pre><code>## # A tibble: 6 x 3
##   city     size  amount
##   &lt;chr&gt;    &lt;chr&gt;  &lt;dbl&gt;
## 1 New York large     23
## 2 New York small     14
## 3 London   large     22
## 4 London   small     16
## 5 Beijing  large    121
## 6 Beijing  small     56</code></pre>
<pre class="r"><code># spread
pollution_new &lt;- spread(pollution_tbl,
                        key = size,
                        value = amount)

#print
pollution_new</code></pre>
<pre><code>## # A tibble: 3 x 3
##   city     large small
##   &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt;
## 1 Beijing    121    56
## 2 London      22    16
## 3 New York    23    14</code></pre>
<p>Terlihat bahwa data <code>pollution</code> tampak memnuhi syarat kerapihan data (<em>tidy</em>). Kita sekarang dapat menginput variabel baru dan melakukan analisa terhadap data tersebut. Berikut adalah contoh penerapannya:</p>
<pre class="r"><code># input variabel range (large-small)
pollution_new$range &lt;- pollution_new$large - pollution_new$small

# print
pollution_new</code></pre>
<pre><code>## # A tibble: 3 x 4
##   city     large small range
##   &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 Beijing    121    56    65
## 2 London      22    16     6
## 3 New York    23    14     9</code></pre>
<p>Berdasarkan hasil yang diperoleh diketahui bahwa nilai range ukuran partikel terbesar berada di Kota Beijing.</p>
</div>
<div id="separate" class="section level3">
<h3>3.4.3 Separate</h3>
<p>Fungsi <code>separate()</code> merupakan fungsi yang digunakan untuk memisahkan sejumlah nilai pada sebuah kolom menjadi beberapa kolom berdasarkan karakter pemisah yang ada di dalam nilai suatu kolom. Fungsi ini berbeda dengan fungsi sebelumnya seperti <code>gather()</code> dan <code>spread()</code> yang menggabung atau memisahkan 2 atau beberapa kolom. Format sederhana fungsi <code>separate()</code> adalah sebagai berikut:</p>
<pre class="r"><code>separate(data, col, into, sep = &quot;[^[:alnum:]]+&quot;, convert= TRUE)</code></pre>
<blockquote>
<p><strong>Note: </strong></p>
<ul>
<li><strong>data</strong>: data frame.</li>
<li><strong>col</strong>: Nama kolom yang tidak dikutip.</li>
<li><strong>into</strong>: Vektor karakter menentukan nama variabel baru yang akan dibuat.</li>
<li><strong>sep</strong>: Pemisah antar kolom:</li>
<li>Jika karakter, diartikan sebagai ekspresi reguler. Jika numerik, diartikan sebagai posisi untuk dibelah. Nilai-nilai positif mulai dari 1 di ujung kiri string; nilai negatif mulai dari -1 di ujung kanan string.</li>
<li><strong>convert</strong>: nilai logik. Jika bernilai TRUE maka kolom baru yang akan diperoleh akan dikonversi berdasarkan jenis data yang seharusnya.</li>
</ul>
</blockquote>
<p>Pada dataset <code>storms</code> kita ingin memisahkan kolom <code>date</code> menjadi beberapa kolom seperti <code>year</code>, <code>month</code>, dan <code>day</code>, Kita dapat menggunakan fungsi <code>separate()</code> untuk memisahkan nilai pada kolom tersebut berdasarkan karakter pemisah pada nilai kolom tersebut dalam hal ini adalah “-”. Berikut adalah cara melakukannya:</p>
<pre class="r"><code># merubah storms menjadi tibble
storms_tbl &lt;- as_tibble(storms)

# print
storms_tbl</code></pre>
<pre><code>## # A tibble: 6 x 4
##   storm    wind pressure date      
##   &lt;chr&gt;   &lt;int&gt;    &lt;int&gt; &lt;date&gt;    
## 1 Alberto   110     1007 2000-08-03
## 2 Alex       45     1009 1998-07-27
## 3 Allison    65     1005 1995-06-03
## 4 Ana        40     1013 1997-06-30
## 5 Arlene     50     1010 1999-06-11
## 6 Arthur     45     1010 1996-06-17</code></pre>
<pre class="r"><code># separate
storms_new &lt;- separate(storms_tbl,
                       col = date,
                       into = c(&quot;year&quot;,&quot;month&quot;,&quot;days&quot;),
                       sep = &quot;-&quot;,
                       convert = TRUE)

# print
storms_new</code></pre>
<pre><code>## # A tibble: 6 x 6
##   storm    wind pressure  year month  days
##   &lt;chr&gt;   &lt;int&gt;    &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
## 1 Alberto   110     1007  2000     8     3
## 2 Alex       45     1009  1998     7    27
## 3 Allison    65     1005  1995     6     3
## 4 Ana        40     1013  1997     6    30
## 5 Arlene     50     1010  1999     6    11
## 6 Arthur     45     1010  1996     6    17</code></pre>
<p>Berdasarkan hasil yang diperoleh terlihat bahwa data telah terpisah dengan benar yang ditunjukkan dari nilai yang terpisah dan jenis data yang dihasilkan.</p>
</div>
<div id="unite" class="section level3">
<h3>3.4.4 Unite</h3>
<p>Fungsi <code>unite()</code> merupakan kebalikan dari fungsi <code>separate()</code>, dimana fungsi ini menggabungkan sejumlah kolom menjadi 1 kolom. Format sederhana untuk melakukanya disajikan sebagai berikut:</p>
<pre class="r"><code>unite(data, col, ..., sep = &quot;_&quot;)</code></pre>
<blockquote>
<p><strong>Note: </strong></p>
<ul>
<li><strong>data</strong>: data frame.</li>
<li><strong>col</strong>: nama kolom baru (tanpa tanda kutip) untuk ditambahkan.</li>
<li><strong>sep</strong>: pemisah yang akan digunakan pada antar nilai.</li>
</ul>
</blockquote>
<p>Pada dataset <code>storms_new</code> kita ingin menggabungkan kembali kolom <code>year</code>, <code>month</code>, dan <code>days</code> dengan karakter pemisah “/”. Berikut adalah cara melakukannya:</p>
<pre class="r"><code># unite
storms_old &lt;- unite(storms_new,
                   col = &quot;date&quot;,
                   year, month, days,
                   sep = &quot;-&quot;)

# print
storms_old</code></pre>
<pre><code>## # A tibble: 6 x 4
##   storm    wind pressure date     
##   &lt;chr&gt;   &lt;int&gt;    &lt;int&gt; &lt;chr&gt;    
## 1 Alberto   110     1007 2000-8-3 
## 2 Alex       45     1009 1998-7-27
## 3 Allison    65     1005 1995-6-3 
## 4 Ana        40     1013 1997-6-30
## 5 Arlene     50     1010 1999-6-11
## 6 Arthur     45     1010 1996-6-17</code></pre>
<pre class="r"><code># ubah jenis kolom menjadi date
storms_old$date &lt;- as.Date(storms_old$date)

# print
storms_old</code></pre>
<pre><code>## # A tibble: 6 x 4
##   storm    wind pressure date      
##   &lt;chr&gt;   &lt;int&gt;    &lt;int&gt; &lt;date&gt;    
## 1 Alberto   110     1007 2000-08-03
## 2 Alex       45     1009 1998-07-27
## 3 Allison    65     1005 1995-06-03
## 4 Ana        40     1013 1997-06-30
## 5 Arlene     50     1010 1999-06-11
## 6 Arthur     45     1010 1996-06-17</code></pre>
</div>
</div>
<div id="transformasi-data" class="section level2">
<h2>3.5 Transformasi Data</h2>
<p>Data frame merupakan struktur data utama dalam statistik dan dalam <code>R</code>. Struktur dasar data frame ialah ada satu observasi tiap baris dan setiap kolom mewakili variabel, ukuran, fitur, atau karakteristik pengamatan itu yang telah dijelaskan pada bagian sebelumya. <code>R</code> memiliki implementasi internal data frame yang kemungkinan besar akan kita gunakan paling sering. Namun, ada paket di CRAN yang mengimplementasikan data frame layaknya basis data relasional yang memungkinkan kita untuk beroperasi pada data frame yang sangat besar.</p>
<p>Mengingat pentingnya mengelola dat frame, penting bagi kita untuk memiliki alat yang baik untuk melakukannya. <code>R</code> memiliki beberapa paket seperti fungsi <code>subset()</code> dan penggunaan operator “[” dan “$” untuk mengekstrak himpunan bagian dari frame data. Namun, operasi lain, seperti pemfilteran, pengurutan, dan pengelompokan data, seringkali dapat menjadi operasi yang membosankan di <code>R</code> yang sintaksisnya tidak terlalu intuitif. Paket <code>dplyr</code> dirancang untuk mengurangi banyak masalah ini dan menyediakan serangkaian rutinitas yang dioptimalkan secara khusus untuk menangani data frame.</p>
<div id="paket-dplyr" class="section level3">
<h3>3.5.1 Paket dplyr</h3>
<p>Paket <code>dplyr</code> dikembangkan oleh <strong>Hadley Wickham</strong> dari <strong>RStudio</strong> dan merupakan versi yang dioptimalkan dari paket <code>plyr</code>-nya. Paket <code>dplyr</code> tidak menyediakan fungsionalitas baru untuk <code>R</code> sendiri, dalam arti bahwa semua yang dilakukan <code>dplyr</code> sudah dapat dilakukan dengan fungsi basis <code>R</code>, tetapi sangat menyederhanakan fungsi yang ada di <code>R</code>.</p>
<p>Salah satu kontribusi penting dari paket <code>dplyr</code> adalah ia menyediakan “<em>grammar</em>” (khususnya, kata kerja) untuk manipulasi data dan untuk beroperasi pada data frame. Melalui <em>grammar</em> ini, kita dapat berkomunikasi dengan masuk akal apa yang telah kita lakukan terhadap data frame dapat pula dipahami orang lain (dengan asumsi mereka juga tahu <em>grammar</em>-nya). Hal ini berguna karena memberikan abstraksi untuk manipulasi data yang sebelumnya tidak ada. Kontribusi lain yang bermanfaat adalah bahwa fungsi <code>dplyr</code> sangat cepat, karena banyak operasi utama dikodekan dalam C++.</p>
<p>Pada bagian ini pembaca akan belajar <strong>6</strong> fungsi utama yang ada pada paket <code>dplyr</code>. Fungsi tersebut antara lain:</p>
<ol style="list-style-type: decimal">
<li>Mengambil sejumlah observasi berdasarkan nilainya (<code>filter()</code>).</li>
<li>Mengurutkan kembali baris data frame berdasarkan nilai pada sebuah atau beberapa variabel (<code>arrange()</code>).</li>
<li>Mengambil atau subset terhadap sebuah atau beberapa variabel berdasarkan nama variabel/kolom (<code>select()</code>).</li>
<li>Membuat variabel baru atau menambahkan kolom baru (<code>mutate()</code>).</li>
<li>Membuat ringkasan terhadap data frame (<code>summarize()</code>)</li>
<li>Mengelompokkan operasi berdasarkan grup data (<code>group_by()</code>).</li>
</ol>
<p>Keseluruhan fungsi tersebut format fungsi yang seragam, yaitu:</p>
<ol style="list-style-type: decimal">
<li>Argumen pertama adalah data frame.</li>
<li>Argumen selanjutnya adalah deskripsi yang akan dilakukan terhadap data frame (filter, pengurutan kembali, membuat ringkasan, dll) menggunakan nama variabel (tanpa tanda kutip).</li>
<li>Hasil operasi yang diperoleh adalah data frame baru.</li>
</ol>
<p>Untuk menginstall dan memuat paket <code>dplyr</code> jalankan sintaks berikut:</p>
<pre class="r"><code># Memasang paket
install.packages(&quot;dplyr&quot;)</code></pre>
<pre class="r"><code># memuat paket
library(dplyr)</code></pre>
</div>
<div id="filter" class="section level3">
<h3>3.5.2 filter()</h3>
<p>Fungsi <code>filter()</code> digunakan untuk mengekstrak himpunan bagian (subset) baris dari data frame. Fungsi ini mirip dengan fungsi <code>subset()</code> yang ada di <code>R</code>. Secara sederhana format fungsi <code>filter()</code> dapat dituliskan sebagai berikut:</p>
<pre class="r"><code>filter(data, ....)</code></pre>
<blockquote>
<p><strong>Note: </strong></p>
<ul>
<li><strong>data</strong> : data frame</li>
<li><strong>….</strong> : Predikat logis didefinisikan dalam istilah variabel dalam <strong>data</strong>. Beberapa kondisi digabungkan dengan &amp; (lihat Chapter 2 opeator relasi dan operator logika. Hanya baris tempat kondisi bernilai TRUE disimpan.</li>
</ul>
</blockquote>
<p>Misalkan kita akan melakukan melakukan filter terhadap data frame <code>pollution_tbl</code> terhadap variabel <code>size</code> dengan kriteria <code>large</code> dan <code>amount</code> &gt; 12. Berikut adalah sintaks yang digunakan:</p>
<pre class="r"><code>filter(pollution_tbl, size==&quot;large&quot; &amp; amount &gt; 12)</code></pre>
<pre><code>## # A tibble: 3 x 3
##   city     size  amount
##   &lt;chr&gt;    &lt;chr&gt;  &lt;dbl&gt;
## 1 New York large     23
## 2 London   large     22
## 3 Beijing  large    121</code></pre>
<p>Jika menggunakan paket dasar <code>R</code>:</p>
<pre class="r"><code>subset(pollution_tbl,size==&quot;large&quot; &amp; amount &gt; 12)</code></pre>
<pre><code>## # A tibble: 3 x 3
##   city     size  amount
##   &lt;chr&gt;    &lt;chr&gt;  &lt;dbl&gt;
## 1 New York large     23
## 2 London   large     22
## 3 Beijing  large    121</code></pre>
<p>Operator “&gt;” merupakan operator relasi (lihat chapter 2: operator relasi). Operator tersebut banyak digunakan untuk melakukan filter terhadap variabel/kolom yang mengandung nilai numerik.</p>
<p>Operator “==” merupakan operator logika (lihat chapter 2: operator logika). Operator tersebut digunakan untuk melakukan filter terhadap sejumlah syarat atau kondisi yang kita tetapkan. Jika nilai yang dihasilkan TRUE, maka hanya observasi tersebut yang akan ditampilkan. Untuk lebih memahami penerapan masing-masing operator logika pada proses filter perhatikan Figure <a href="#fig:filter">2</a> berikut:</p>
<div class="figure" style="text-align: center"><span id="fig:filter"></span>
<img src="/filter.png" alt="Diagram operasi Boolean"  />
<p class="caption">
Figure 2: Diagram operasi Boolean
</p>
</div>
<blockquote>
<p><strong>Note: </strong> Bagian yang di arsir adalah observasi yang akan ditampilkan pada output.</p>
</blockquote>
<p>Salah satu bagian terpenting dan paling sering penulis gunakan pada fungsi ini memfilter <em>missing value</em> (melihat observasi yang mengandung <em>missing value</em> atau tidak melibatkan <em>missing value</em>). Berikut adalah contoh filter terhadap data pada <code>pollution_tbl</code> yang tidak mengandung <em>missing value</em> dan nilai <code>amount</code>&gt;0.</p>
<pre class="r"><code>filter(pollution_tbl,!(is.na(amount)|amount&lt;=0))</code></pre>
<pre><code>## # A tibble: 6 x 3
##   city     size  amount
##   &lt;chr&gt;    &lt;chr&gt;  &lt;dbl&gt;
## 1 New York large     23
## 2 New York small     14
## 3 London   large     22
## 4 London   small     16
## 5 Beijing  large    121
## 6 Beijing  small     56</code></pre>
<p>Berdasarkan hasil yang diperoleh seluruh data tidak ada yang di drop sehingga dapat disimpulkan bahwa data tersebut tidak mengandung <em>missing value</em> dan nol.</p>
</div>
<div id="arrange" class="section level3">
<h3>3.5.3 arrange()</h3>
<p>Fungsi <code>arrange()</code> bekerja mirip dengan fungsi <code>filter()</code> kecuali bahwa alih-alih memilih baris, fungsi ini mengubah urutan observasinya (mengurutkan dari yang terbesar atau sebaliknya). Dibutuhkan data frame dan sekumpulan nama kolom (atau ekspresi yang lebih rumit) untuk dipesan. Jika kita memberikan lebih dari satu nama kolom pada fungsi, setiap kolom tambahan akan digunakan untuk menentukan urutan nilai yang sama berdasarkan nilai kolom sebelumnya.</p>
<p>Fungsi <code>arrange()</code> mirip dengan fungsi <code>order()</code> pada paket dasar <code>R</code>. Format sederhana fungsi ini adalah sebagai berikut:</p>
<pre class="r"><code>arrange(data, ....)</code></pre>
<blockquote>
<p><strong>Note: </strong></p>
<ul>
<li><strong>data</strong> : data frame</li>
<li><strong>….</strong> : daftar nama variabel yang tidak dikutip yang dipisahkan tanda koma, atau ekspresi yang melibatkan nama variabel. Gunakan <code>desc()</code> untuk mengurutkan variabel dalam urutan menurun.</li>
</ul>
</blockquote>
<p>Misalkan kita ingin melihat urutan mobil pada data <code>mtcars</code> berdasarkan penggunaan bahan bakar (<code>mpg</code>) dan bobot mobil (<code>wt</code>) tersebut. Berikut adalah sintaks yang digunakan:</p>
<pre class="r"><code>data(&quot;mtcars&quot;)

# Ubah mtcars menjadi tibble
mtcars&lt;- as_tibble(mtcars)

arrange(mtcars, mpg, wt)</code></pre>
<pre><code>## # A tibble: 32 x 11
##      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1  10.4     8  472    205  2.93  5.25  18.0     0     0     3     4
##  2  10.4     8  460    215  3     5.42  17.8     0     0     3     4
##  3  13.3     8  350    245  3.73  3.84  15.4     0     0     3     4
##  4  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4
##  5  14.7     8  440    230  3.23  5.34  17.4     0     0     3     4
##  6  15       8  301    335  3.54  3.57  14.6     0     1     5     8
##  7  15.2     8  304    150  3.15  3.44  17.3     0     0     3     2
##  8  15.2     8  276.   180  3.07  3.78  18       0     0     3     3
##  9  15.5     8  318    150  2.76  3.52  16.9     0     0     3     2
## 10  15.8     8  351    264  4.22  3.17  14.5     0     1     5     4
## # ... with 22 more rows</code></pre>
<p>Jika ingin urutan yang digunakan adalah dari yang terbesar ke terkecil untuk kedua variabel tersebut jalankan sintaks berikut:</p>
<pre class="r"><code>arrange(mtcars, desc(mpg), desc(wt))</code></pre>
<pre><code>## # A tibble: 32 x 11
##      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1  33.9     4  71.1    65  4.22  1.84  19.9     1     1     4     1
##  2  32.4     4  78.7    66  4.08  2.2   19.5     1     1     4     1
##  3  30.4     4  75.7    52  4.93  1.62  18.5     1     1     4     2
##  4  30.4     4  95.1   113  3.77  1.51  16.9     1     1     5     2
##  5  27.3     4  79      66  4.08  1.94  18.9     1     1     4     1
##  6  26       4 120.     91  4.43  2.14  16.7     0     1     5     2
##  7  24.4     4 147.     62  3.69  3.19  20       1     0     4     2
##  8  22.8     4 141.     95  3.92  3.15  22.9     1     0     4     2
##  9  22.8     4 108      93  3.85  2.32  18.6     1     1     4     1
## 10  21.5     4 120.     97  3.7   2.46  20.0     1     0     3     1
## # ... with 22 more rows</code></pre>
<p>Jika menggunakan fungsi <code>order()</code>:</p>
<pre class="r"><code>attach(mtcars)
# urutan dari kecil ke besar
mtcars[order(mpg, wt), ]</code></pre>
<pre><code>## # A tibble: 32 x 11
##      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1  10.4     8  472    205  2.93  5.25  18.0     0     0     3     4
##  2  10.4     8  460    215  3     5.42  17.8     0     0     3     4
##  3  13.3     8  350    245  3.73  3.84  15.4     0     0     3     4
##  4  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4
##  5  14.7     8  440    230  3.23  5.34  17.4     0     0     3     4
##  6  15       8  301    335  3.54  3.57  14.6     0     1     5     8
##  7  15.2     8  304    150  3.15  3.44  17.3     0     0     3     2
##  8  15.2     8  276.   180  3.07  3.78  18       0     0     3     3
##  9  15.5     8  318    150  2.76  3.52  16.9     0     0     3     2
## 10  15.8     8  351    264  4.22  3.17  14.5     0     1     5     4
## # ... with 22 more rows</code></pre>
<pre class="r"><code># urutan dari besar ke kecil
mtcars[order(-mpg, -wt), ]</code></pre>
<pre><code>## # A tibble: 32 x 11
##      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1  33.9     4  71.1    65  4.22  1.84  19.9     1     1     4     1
##  2  32.4     4  78.7    66  4.08  2.2   19.5     1     1     4     1
##  3  30.4     4  75.7    52  4.93  1.62  18.5     1     1     4     2
##  4  30.4     4  95.1   113  3.77  1.51  16.9     1     1     5     2
##  5  27.3     4  79      66  4.08  1.94  18.9     1     1     4     1
##  6  26       4 120.     91  4.43  2.14  16.7     0     1     5     2
##  7  24.4     4 147.     62  3.69  3.19  20       1     0     4     2
##  8  22.8     4 141.     95  3.92  3.15  22.9     1     0     4     2
##  9  22.8     4 108      93  3.85  2.32  18.6     1     1     4     1
## 10  21.5     4 120.     97  3.7   2.46  20.0     1     0     3     1
## # ... with 22 more rows</code></pre>
<blockquote>
<p><strong>Note: </strong> <em>missing value</em> akan selalu diurutkan pada observasi terakhir baik menggunakan urutan dari terbesar ke terkecil maupun sebaliknya.</p>
</blockquote>
</div>
<div id="select" class="section level3">
<h3>3.5.4 select()</h3>
<p>Fungsi <code>select()</code> dapat digunakan untuk memilih kolom dari data frame yang ingin kita fokuskan. Seringkali kita memiliki data frame yang besar yang berisi semua data, tetapi setiap analisis yang diberikan hanya menggunakan subset variabel atau pengamatan. Fungsi <code>select()</code> memungkinkan kita untuk mendapatkan beberapa kolom yang mungkin kita butuhkan.</p>
<p>Fungsi <code>select()</code> memiliki kesamaan dengan subset menggunakan tanda “[” dan “$”. Perbedaanya adalah kita dapat melakukan hal lebih melalui fungsi ini seperti memilih berdasarkan kriteria tertentu menggunakan fungsi bantuan sebagai berikut:</p>
<ol style="list-style-type: decimal">
<li><code>starts_with(&quot;abcd&quot;)</code>, pilih kolom yang memiliki awalan “abcd”.</li>
<li><code>end_with(&quot;abcd&quot;)</code>, pilih kolom yang memiliki akhiran “abcd”.</li>
<li><code>contains(&quot;abcd&quot;)</code>, pilih kolom yang mengandung nama “abcd”</li>
<li><code>matches(&quot;(.)\\1&quot;)</code>, pilih variabel yang mengandung <em>regular expression</em>. Fungsi ini memilih variabel yang mengandung perulangan karakter.</li>
<li><code>num_range(&quot;x&quot;, 1:3)</code>, cocokkan berdasarkan kolom dengan nama x1,x2,x3.</li>
</ol>
<p>Berdasarkan fungsi bantuan tersebut, fungsi <code>select()</code> lebih powerfull dibandingkan dengan cara subset biasa serta lebih mudah dalam melakukannya. Berikut adalah format dari fungsi <code>select()</code>:</p>
<pre class="r"><code>select(data, ....)</code></pre>
<blockquote>
<p><strong>Note: </strong></p>
<ul>
<li><strong>data</strong> : data frame</li>
<li><strong>….</strong> : Satu atau lebih ekspresi kutip yang dipisahkan oleh koma. kita dapat memperlakukan nama variabel seperti posisi, sehingga kita dapat menggunakan ekspresi seperti x: y untuk memilih rentang variabel.Nilai positif pilih variabel; nilai negatif drop variabel. Jika ekspresi pertama negatif, <code>select()</code> akan secara otomatis dimulai dengan semua variabel. Gunakan argumen bernama, mis. <code>new_name = old_name</code>, untuk mengganti nama variabel yang dipilih.</li>
</ul>
</blockquote>
<p>Berikut adalah contoh penerapan <code>selct()</code> pada data frame <code>flights</code>.</p>
<pre class="r"><code># memasang paket
# install.packages(&quot;nycflights13&quot;)

# memuat data frame
library(nycflights13)</code></pre>
<pre><code>## Warning: package &#39;nycflights13&#39; was built under R version 3.5.3</code></pre>
<pre class="r"><code># data
flights</code></pre>
<pre><code>## # A tibble: 336,776 x 19
##     year month   day dep_time sched_dep_time dep_delay arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;
##  1  2013     1     1      517            515         2      830
##  2  2013     1     1      533            529         4      850
##  3  2013     1     1      542            540         2      923
##  4  2013     1     1      544            545        -1     1004
##  5  2013     1     1      554            600        -6      812
##  6  2013     1     1      554            558        -4      740
##  7  2013     1     1      555            600        -5      913
##  8  2013     1     1      557            600        -3      709
##  9  2013     1     1      557            600        -3      838
## 10  2013     1     1      558            600        -2      753
## # ... with 336,766 more rows, and 12 more variables: sched_arr_time &lt;int&gt;,
## #   arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;,
## #   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,
## #   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<pre class="r"><code># pilih kolom berdasarkan nama kolom
select(flights, year, month, day)</code></pre>
<pre><code>## # A tibble: 336,776 x 3
##     year month   day
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;
##  1  2013     1     1
##  2  2013     1     1
##  3  2013     1     1
##  4  2013     1     1
##  5  2013     1     1
##  6  2013     1     1
##  7  2013     1     1
##  8  2013     1     1
##  9  2013     1     1
## 10  2013     1     1
## # ... with 336,766 more rows</code></pre>
<pre class="r"><code># pilih seluruh kolom dari year sampai day
select(flights, year:day)</code></pre>
<pre><code>## # A tibble: 336,776 x 3
##     year month   day
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;
##  1  2013     1     1
##  2  2013     1     1
##  3  2013     1     1
##  4  2013     1     1
##  5  2013     1     1
##  6  2013     1     1
##  7  2013     1     1
##  8  2013     1     1
##  9  2013     1     1
## 10  2013     1     1
## # ... with 336,766 more rows</code></pre>
<pre class="r"><code># drop kolom dari year sampai day
select(flights, -(year:day))</code></pre>
<pre><code>## # A tibble: 336,776 x 16
##    dep_time sched_dep_time dep_delay arr_time sched_arr_time arr_delay
##       &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;
##  1      517            515         2      830            819        11
##  2      533            529         4      850            830        20
##  3      542            540         2      923            850        33
##  4      544            545        -1     1004           1022       -18
##  5      554            600        -6      812            837       -25
##  6      554            558        -4      740            728        12
##  7      555            600        -5      913            854        19
##  8      557            600        -3      709            723       -14
##  9      557            600        -3      838            846        -8
## 10      558            600        -2      753            745         8
## # ... with 336,766 more rows, and 10 more variables: carrier &lt;chr&gt;,
## #   flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;,
## #   distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<pre class="r"><code># pilih kolom dengan akhiran time
select(flights, ends_with(&quot;time&quot;))</code></pre>
<pre><code>## # A tibble: 336,776 x 5
##    dep_time sched_dep_time arr_time sched_arr_time air_time
##       &lt;int&gt;          &lt;int&gt;    &lt;int&gt;          &lt;int&gt;    &lt;dbl&gt;
##  1      517            515      830            819      227
##  2      533            529      850            830      227
##  3      542            540      923            850      160
##  4      544            545     1004           1022      183
##  5      554            600      812            837      116
##  6      554            558      740            728      150
##  7      555            600      913            854      158
##  8      557            600      709            723       53
##  9      557            600      838            846      140
## 10      558            600      753            745      138
## # ... with 336,766 more rows</code></pre>
<pre class="r"><code># pilih kolom yang mengandung karakter &quot;arr&quot;
select(flights, contains(&quot;arr&quot;))</code></pre>
<pre><code>## # A tibble: 336,776 x 4
##    arr_time sched_arr_time arr_delay carrier
##       &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt; &lt;chr&gt;  
##  1      830            819        11 UA     
##  2      850            830        20 UA     
##  3      923            850        33 AA     
##  4     1004           1022       -18 B6     
##  5      812            837       -25 DL     
##  6      740            728        12 UA     
##  7      913            854        19 B6     
##  8      709            723       -14 EV     
##  9      838            846        -8 B6     
## 10      753            745         8 AA     
## # ... with 336,766 more rows</code></pre>
<p>Kita juga dapat menggunakan fungsi tambahan <code>everithing()</code> yang berguna jika kita ingin memindahkan variabel yang menjadi fokus kita ke awal data frame tanpa melakukan drop variabel. Berikut adalah contoh sintaksnya:</p>
<pre class="r"><code># pindahkan kolom yang mengandung time di awal
select(flights, contains(&quot;time&quot;), everything())</code></pre>
<pre><code>## # A tibble: 336,776 x 19
##    dep_time sched_dep_time arr_time sched_arr_time air_time
##       &lt;int&gt;          &lt;int&gt;    &lt;int&gt;          &lt;int&gt;    &lt;dbl&gt;
##  1      517            515      830            819      227
##  2      533            529      850            830      227
##  3      542            540      923            850      160
##  4      544            545     1004           1022      183
##  5      554            600      812            837      116
##  6      554            558      740            728      150
##  7      555            600      913            854      158
##  8      557            600      709            723       53
##  9      557            600      838            846      140
## 10      558            600      753            745      138
## # ... with 336,766 more rows, and 14 more variables: time_hour &lt;dttm&gt;,
## #   year &lt;int&gt;, month &lt;int&gt;, day &lt;int&gt;, dep_delay &lt;dbl&gt;, arr_delay &lt;dbl&gt;,
## #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
## #   distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;</code></pre>
</div>
<div id="mutate" class="section level3">
<h3>3.5.5 mutate()</h3>
<p>Fungsi <code>mutate()</code> ada untuk menghitung transformasi variabel dalam data frame. Seringkali, kita ingin membuat variabel baru yang berasal dari variabel yang ada dan fungsi <code>mutate()</code> menyediakan antarmuka yang bersih untuk melakukan itu. Format yang digunakan adalah sebagai berikut:</p>
<pre class="r"><code>mutate(data, ....)</code></pre>
<blockquote>
<p><strong>Note: </strong></p>
<ul>
<li><strong>data</strong> : data frame</li>
<li><strong>….</strong> : Pasangan nama-nilai ekspresi, masing-masing dengan panjang 1 atau panjang yang sama dengan jumlah baris dalam grup (jika menggunakan group_by ()) atau di seluruh input (jika tidak menggunakan grup). Nama setiap argumen akan menjadi nama variabel baru, dan nilainya akan menjadi nilai yang sesuai. Gunakan nilai NULL dalam mutasi untuk menjatuhkan drop variabel lama, sehingga variabel baru menimpa variabel yang ada dengan nama yang sama.</li>
</ul>
</blockquote>
<pre class="r"><code># subset data frame
flights_sml &lt;- select(flights,
  year:day,
  ends_with(&quot;delay&quot;),
  distance,
  air_time
)

# mutate()
mutate(flights_sml,
  gain = arr_delay - dep_delay,
  hours = air_time / 60,
  gain_per_hour = gain / hours
)</code></pre>
<pre><code>## # A tibble: 336,776 x 10
##     year month   day dep_delay arr_delay distance air_time  gain hours
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1  2013     1     1         2        11     1400      227     9 3.78 
##  2  2013     1     1         4        20     1416      227    16 3.78 
##  3  2013     1     1         2        33     1089      160    31 2.67 
##  4  2013     1     1        -1       -18     1576      183   -17 3.05 
##  5  2013     1     1        -6       -25      762      116   -19 1.93 
##  6  2013     1     1        -4        12      719      150    16 2.5  
##  7  2013     1     1        -5        19     1065      158    24 2.63 
##  8  2013     1     1        -3       -14      229       53   -11 0.883
##  9  2013     1     1        -3        -8      944      140    -5 2.33 
## 10  2013     1     1        -2         8      733      138    10 2.3  
## # ... with 336,766 more rows, and 1 more variable: gain_per_hour &lt;dbl&gt;</code></pre>
<p>Jika hanya ingin menyisakan variabel output fungsi <code>mutate()</code> pada data frame (variabel lain di drop), kita dapat menggunakan fungsi <code>transmute()</code>. Berikut adalah contoh sintaks yang digunakan:</p>
<pre class="r"><code>transmute(flights,
  gain = arr_delay - dep_delay,
  hours = air_time / 60,
  gain_per_hour = gain / hours
)</code></pre>
<pre><code>## # A tibble: 336,776 x 3
##     gain hours gain_per_hour
##    &lt;dbl&gt; &lt;dbl&gt;         &lt;dbl&gt;
##  1     9 3.78           2.38
##  2    16 3.78           4.23
##  3    31 2.67          11.6 
##  4   -17 3.05          -5.57
##  5   -19 1.93          -9.83
##  6    16 2.5            6.4 
##  7    24 2.63           9.11
##  8   -11 0.883        -12.5 
##  9    -5 2.33          -2.14
## 10    10 2.3            4.35
## # ... with 336,766 more rows</code></pre>
<p>Adapaun fungsi-fungsi dan operator yang dapat digunakan pada <code>mutate()</code> untuk membuat variabel baru adalah sebagai berikut:</p>
<ol style="list-style-type: decimal">
<li><strong>Operator aritmatik</strong> (+,-,*,/,^, %/%, %%). operator aritmetik seperti %/% dan %% sangat berguna dalam memecah integer menjadi beberapa bagian seperti hasil bagi tanpa sisa (%/%) dan sisa hasil bagi (%%). Berikut adalah contoh penerapannya:</li>
</ol>
<pre class="r"><code>transmute(flights,
  dep_time,
  hour = dep_time %/% 100,
  minute = dep_time %% 100
)</code></pre>
<pre><code>## # A tibble: 336,776 x 3
##    dep_time  hour minute
##       &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt;
##  1      517     5     17
##  2      533     5     33
##  3      542     5     42
##  4      544     5     44
##  5      554     5     54
##  6      554     5     54
##  7      555     5     55
##  8      557     5     57
##  9      557     5     57
## 10      558     5     58
## # ... with 336,766 more rows</code></pre>
<ol start="2" style="list-style-type: decimal">
<li><strong>Fungsi aritmetik</strong> (<code>log()</code>,<code>sin()</code>,<code>cos()</code>,dll)</li>
<li><strong>Fungsi Offsets</strong> (<code>lead()</code>dan <code>lag()</code>). memungkinkan kita untuk merujuk pada nilai-nilai memimpin atau tertinggal. Berikut adalah contoh penerapannya:</li>
</ol>
<pre class="r"><code>(x &lt;- 1:10)</code></pre>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<pre class="r"><code>lag(x)</code></pre>
<pre><code>##  [1] NA  1  2  3  4  5  6  7  8  9</code></pre>
<pre class="r"><code>lead(x)</code></pre>
<pre><code>##  [1]  2  3  4  5  6  7  8  9 10 NA</code></pre>
<ol start="4" style="list-style-type: decimal">
<li><strong>Fungsi kumulatif</strong> (<code>cumsum()</code>,<code>cumprod()</code>,<code>cummin()</code>,<code>cummax()</code>, dan <code>cummean()</code>). Jika kita membutuhkan agregat bergulir (mis., Jumlah yang dihitung di atas jendela bergulir). Berikut adalah contoh penerapannya:</li>
</ol>
<pre class="r"><code>x</code></pre>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<pre class="r"><code>cumsum(x)</code></pre>
<pre><code>##  [1]  1  3  6 10 15 21 28 36 45 55</code></pre>
<pre class="r"><code>cummean(x)</code></pre>
<pre><code>##  [1] 1.0 1.5 2.0 2.5 3.0 3.5 4.0 4.5 5.0 5.5</code></pre>
<ol start="5" style="list-style-type: decimal">
<li><p><strong>Operator logik</strong> (&lt;, &lt;=, &gt;, &gt;=, !=). Jika kita melakukan urutan operasi logis yang kompleks, seringkali ide yang baik untuk menyimpan nilai sementara dalam variabel baru sehingga kita dapat memeriksa bahwa setiap langkah berfungsi seperti yang diharapkan.</p></li>
<li><p>Rangking (<code>min_rank()</code>, <code>row_number()</code>, <code>dense_rank()</code>, <code>percent_rank()</code>, <code>cume_dist()</code>dan <code>ntile()</code>).</p></li>
</ol>
</div>
<div id="summarize-dan-group_by" class="section level3">
<h3>3.5.6 summarize() dan group_by()</h3>
<p>Kita dapat membuat ringkasan data menggunakan fungsi <code>summarize()</code>. Fungsi tersebut akan merubah data frame menjadi sebuah baris berisi ringkasan data yang kita inginkan. Berikut adalh contoh penerapannya:</p>
<pre class="r"><code>summarize(flights, delay = mean(dep_delay, na.rm = TRUE))</code></pre>
<pre><code>## # A tibble: 1 x 1
##   delay
##   &lt;dbl&gt;
## 1  12.6</code></pre>
<p>FUngsi ini akan lebih berguna saat digunakan dengan fungsi <code>group_by()</code> sehingga dapat diperoleh ringkasan data pada setiap grup. berikut adalah contoh penerapannya:</p>
<pre class="r"><code>by_day &lt;- group_by(flights, year, month, day)
    summarize(by_day, delay = mean(dep_delay, na.rm = TRUE))</code></pre>
<pre><code>## # A tibble: 365 x 4
## # Groups:   year, month [12]
##     year month   day delay
##    &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;
##  1  2013     1     1 11.5 
##  2  2013     1     2 13.9 
##  3  2013     1     3 11.0 
##  4  2013     1     4  8.95
##  5  2013     1     5  5.73
##  6  2013     1     6  7.15
##  7  2013     1     7  5.42
##  8  2013     1     8  2.55
##  9  2013     1     9  2.28
## 10  2013     1    10  2.84
## # ... with 355 more rows</code></pre>
</div>
<div id="mengkombinasikan-beberapa-operasi-menggunakan-operator-pipe" class="section level3">
<h3>3.5.7 Mengkombinasikan Beberapa Operasi Menggunakan Operator Pipe (%&gt;%)</h3>
<p>Operator pipa (%&gt;%) sangat berguna untuk merangkai bersama beberapa fungsi <code>dplyr</code> dalam suatu urutan operasi. Perhatikan contoh sebelumnya dimana setiap kali kita ingin menerapkan lebih dari satu fungsi, urutannya akan dimulai dalam urutan panggilan fungsi bersarang yang sulit dibaca. Secara ringkas dapat kita tulis sebagai berikut:</p>
<pre class="r"><code>third(second(first(x)))</code></pre>
<p>Jika dituliskan menggunakan operator pipa akan menghasilkan sintak berikut:</p>
<pre class="r"><code>x %&gt;%
  first() %&gt;%
  second() %&gt;%
  third()</code></pre>
<p>Dengan menuliskannya melalui cara tersebut kita dapat membacanya lebih mudah.</p>
<p>Misal kita ingin mengetahui hubungan antara variabel jarak (<code>dist</code>) terhadap rata-rata delay (<code>arr_delay</code>). Langkah-langkah untuk melakukannya dengan menggunakan operator pipa adalah sebagai berikut:</p>
<ol style="list-style-type: decimal">
<li>Kelompokkan penerbangan berdasarkan destinasinya (<code>group_by()</code>).</li>
<li>Hitung ringkasan data berdasarkan jarak, rata-rata delay, dan jumlah penerbangan.</li>
<li>Lakukan filter untuk membuang <em>noisy point</em> (jika diperlukan). Dalam hal ini jumlah penerbangan &gt; 20 dan tujuan penerbangan Honolulu (“HNL”) adalah <em>outlier</em> atau <em>noisy point</em>.</li>
</ol>
<p>Berikut adalah sintaks untuk melakukannya:</p>
<pre><code>## # A tibble: 96 x 4
##    dest  count  dist delay
##    &lt;chr&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 ABQ     254 1826   4.38
##  2 ACK     265  199   4.85
##  3 ALB     439  143  14.4 
##  4 ATL   17215  757. 11.3 
##  5 AUS    2439 1514.  6.02
##  6 AVL     275  584.  8.00
##  7 BDL     443  116   7.05
##  8 BGR     375  378   8.03
##  9 BHM     297  866. 16.9 
## 10 BNA    6333  758. 11.8 
## # ... with 86 more rows</code></pre>
<pre><code>## 
## Attaching package: &#39;ggplot2&#39;</code></pre>
<pre><code>## The following object is masked from &#39;mtcars&#39;:
## 
##     mpg</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<div class="figure" style="text-align: center"><span id="fig:distvsave"></span>
<img src="/tutorial/03_manajemen-data-r_files/figure-html/distvsave-1.png" alt="Jarak vs rata-rata delay" width="480" />
<p class="caption">
Figure 3: Jarak vs rata-rata delay
</p>
</div>
<p>Berdasarkan Figure <a href="#fig:distvsave">3</a>, rata-rata delay meningkat seiring dengan pertambahan jarak penerbangan.</p>
<p><strong>Referensi</strong></p>
<ol style="list-style-type: decimal">
<li>Wickham, H. Grolemund G. 2016. <strong>R For Data Science: Import, Tidy, Transform, Visualize, And Model Data</strong>. O’Reilly Media, Inc.</li>
<li>Peng, R.D. 2015. <strong>Exploratory Data Analysis with R</strong>. Leanpub book.</li>
<li>Dplyr Documentation. <a href="https://dplyr.tidyverse.org/" class="uri">https://dplyr.tidyverse.org/</a></li>
<li>Quick-R. <strong>Data Input</strong>. <a href="https://www.statmethods.net/input/index.html" class="uri">https://www.statmethods.net/input/index.html</a></li>
<li>Quick-R. <strong>Data Management</strong>. <a href="https://www.statmethods.net/management/index.html" class="uri">https://www.statmethods.net/management/index.html</a></li>
<li>STHDA. <strong>Importing Data Into R </strong>. <a href="http://www.sthda.com/english/wiki/importing-data-into-r" class="uri">http://www.sthda.com/english/wiki/importing-data-into-r</a></li>
<li>STHDA. <strong>Exporting Data From R</strong>. <a href="http://www.sthda.com/english/wiki/exporting-data-from-r" class="uri">http://www.sthda.com/english/wiki/exporting-data-from-r</a></li>
</ol>
</div>
</div>

          </div>

          

        </div>

        <div class="body-footer">
          Last updated on Mar 9, 2019
        </div>

      </article>

      <footer class="site-footer">
  
  <p class="powered-by">
    <a href="/privacy/">Privacy Policy</a>
  </p>
  

  <p class="powered-by">
    

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
  </p>
</footer>


    </main>
  </div>
</div>

    

    
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha512-+NqPlbbtM1QqiK8ZAo4Yrj2c4lNQoGv8P79DPtKzj++l5jnN39rHA/xsqn8zE9l0uSoxaCdrOgFs6yjyfbBxSg==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha256-VsEqElsCHSGmnmHXGQzvoWjWwoznFSZc6hs7ARLRacQ=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
        
      

      
      
    

    
    
      <script async defer src="//maps.googleapis.com/maps/api/js?key="></script>
      
      <script src="https://cdnjs.cloudflare.com/ajax/libs/gmaps.js/0.4.25/gmaps.min.js" integrity="sha256-7vjlAeb8OaTrCXZkCNun9djzuB2owUsaO72kXaFDBJs=" crossorigin="anonymous"></script>
      
    

    
    
    
    <script id="dsq-count-scr" src="//ROSIDI.disqus.com/count.js" async></script>
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/index.json";
      const i18n = {
        'placeholder': "Search...",
        'results': "results found",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js" integrity="sha256-pB/deHc9CGfFpJRjC43imB29Rse8tak+5eXqntO94ck=" crossorigin="anonymous"></script>
    <script>
      anchors.add();
    </script>
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.109caa4f51ff39522c6dfc25fb05b6e9.js"></script>

  </body>
</html>


